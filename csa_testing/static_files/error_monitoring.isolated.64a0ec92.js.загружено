(()=>{"use strict";var e,t,n,r,s={402575:(e,t,n)=>{n.d(t,{BrowserClient:()=>d});var r=n(341623),s=n(637217),o=n(57990),i=n(818510),a=n(845832),c=n(414399),u=n(193351),l=n(114248);class d extends r.BaseClient{eventFromException(e,t){return(0,c.eventFromException)(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return(0,c.eventFromMessage)(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return;const t=(0,l.createUserFeedbackEnvelope)(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return;if(!this._dsn)return;const t=(0,o.createClientReportEnvelope)(e,this._options.tunnel&&(0,i.dsnToString)(this._dsn));this._sendEnvelope(t)}constructor(e){const t=u.WINDOW.SENTRY_SDK_SOURCE||(0,a.getSDKSource)();e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${t}:@sentry/browser`,version:s.SDK_VERSION}],version:s.SDK_VERSION},super(e),e.sendClientReports&&u.WINDOW.document&&u.WINDOW.document.addEventListener("visibilitychange",(()=>{"hidden"===u.WINDOW.document.visibilityState&&this._flushOutcomes()}))}}},414399:(e,t,n)=>{n.d(t,{eventFromException:()=>f,eventFromMessage:()=>g,eventFromUnknownInput:()=>m,exceptionFromError:()=>u});var r=n(612914),s=n(827699),o=n(220636),i=n(547267),a=n(620051),c=n(317200);function u(e,t){const n=d(e,t),r={type:t&&t.name,value:p(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function l(e,t){return{exception:{values:[u(e,t)]}}}function d(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(h.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}const h=/Minified React error #\d+;/i;function p(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function f(e,t,n,r){const s=m(e,t,n&&n.syntheticException||void 0,r);return(0,i.addExceptionMechanism)(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),(0,a.resolvedSyncPromise)(s)}function g(e,t,n="info",r,s){const o=_(e,t,r&&r.syntheticException||void 0,s);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),(0,a.resolvedSyncPromise)(o)}function m(e,t,n,a,c){let u;if((0,s.isErrorEvent)(t)&&t.error){return l(e,t.error)}if((0,s.isDOMError)(t)||(0,s.isDOMException)(t)){const r=t;if("stack"in t)u=l(e,t);else{const t=r.name||((0,s.isDOMError)(r)?"DOMError":"DOMException"),o=r.message?`${t}: ${r.message}`:t;u=_(e,o,n,a),(0,i.addExceptionTypeValue)(u,o)}return"code"in r&&(u.tags={...u.tags,"DOMException.code":`${r.code}`}),u}if((0,s.isError)(t))return l(e,t);if((0,s.isPlainObject)(t)||(0,s.isEvent)(t)){return u=function(e,t,n,i){const a=(0,r.getCurrentHub)().getClient(),c=a&&a.getOptions().normalizeDepth,u={exception:{values:[{type:(0,s.isEvent)(t)?t.constructor.name:i?"UnhandledRejection":"Error",value:S(t,{isUnhandledRejection:i})}]},extra:{__serialized__:(0,o.normalizeToSize)(t,c)}};if(n){const t=d(e,n);t.length&&(u.exception.values[0].stacktrace={frames:t})}return u}(e,t,n,c),(0,i.addExceptionMechanism)(u,{synthetic:!0}),u}return u=_(e,t,n,a),(0,i.addExceptionTypeValue)(u,`${t}`,void 0),(0,i.addExceptionMechanism)(u,{synthetic:!0}),u}function _(e,t,n,r){const s={message:t};if(r&&n){const r=d(e,n);r.length&&(s.exception={values:[{value:t,stacktrace:{frames:r}}]})}return s}function S(e,{isUnhandledRejection:t}){const n=(0,c.extractExceptionKeysForMessage)(e),r=t?"promise rejection":"exception";if((0,s.isErrorEvent)(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if((0,s.isEvent)(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}},193351:(e,t,n)=>{n.d(t,{WINDOW:()=>a,shouldIgnoreOnError:()=>u,wrap:()=>l});var r=n(170802),s=n(664540),o=n(317200),i=n(547267);const a=s.GLOBAL_OBJ;let c=0;function u(){return c>0}function l(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if((0,o.getOriginalFunction)(e))return e}catch(t){return e}const s=function(){const s=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const r=s.map((e=>l(e,t)));return e.apply(this,r)}catch(e){throw c++,setTimeout((()=>{c--})),(0,r.withScope)((n=>{n.addEventProcessor((e=>(t.mechanism&&((0,i.addExceptionTypeValue)(e,void 0,void 0),(0,i.addExceptionMechanism)(e,t.mechanism)),e.extra={...e.extra,arguments:s},e))),(0,r.captureException)(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(s[t]=e[t])}catch(e){}(0,o.markFunctionWrapped)(s,e),(0,o.addNonEnumerableProperty)(e,"__sentry_wrapped__",s);try{Object.getOwnPropertyDescriptor(s,"name").configurable&&Object.defineProperty(s,"name",{get:()=>e.name})}catch(e){}return s}},473498:(e,t,n)=>{n.d(t,{Breadcrumbs:()=>h});var r=n(612914),s=n(733734),o=n(547267),i=n(737299),a=n(526240),c=n(307806),u=n(495846),l=n(193351);const d=1024;class h{static __initStatic(){this.id="Breadcrumbs"}setupOnce(){if(this.options.console&&(0,s.addInstrumentationHandler)("console",f),this.options.dom&&(0,s.addInstrumentationHandler)("dom",function(e){function t(t){let n,s="object"==typeof e?e.serializeAttribute:void 0,o="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;o&&o>d&&(o=d),"string"==typeof s&&(s=[s]);try{const e=t.event;n=function(e){return!!e&&!!e.target}(e)?(0,i.htmlTreeAsString)(e.target,{keyAttrs:s,maxStringLength:o}):(0,i.htmlTreeAsString)(e,{keyAttrs:s,maxStringLength:o})}catch(e){n="<unknown>"}0!==n.length&&(0,r.getCurrentHub)().addBreadcrumb({category:`ui.${t.name}`,message:n},{event:t.event,name:t.name,global:t.global})}return t}(this.options.dom)),this.options.xhr&&(0,s.addInstrumentationHandler)("xhr",g),this.options.fetch&&(0,s.addInstrumentationHandler)("fetch",m),this.options.history&&(0,s.addInstrumentationHandler)("history",_),this.options.sentry){const e=(0,r.getCurrentHub)().getClient();e&&e.on&&e.on("beforeSendEvent",p)}}constructor(e){this.name=h.id,this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}}function p(e){(0,r.getCurrentHub)().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:(0,o.getEventDescription)(e)},{event:e})}function f(e){const t={category:"console",data:{arguments:e.args,logger:"console"},level:(0,a.severityLevelFromString)(e.level),message:(0,c.safeJoin)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message=`Assertion failed: ${(0,c.safeJoin)(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1)}(0,r.getCurrentHub)().addBreadcrumb(t,{input:e.args,level:e.level})}function g(e){const{startTimestamp:t,endTimestamp:n}=e,o=e.xhr[s.SENTRY_XHR_DATA_KEY];if(!t||!n||!o)return;const{method:i,url:a,status_code:c,body:u}=o,l={method:i,url:a,status_code:c},d={xhr:e.xhr,input:u,startTimestamp:t,endTimestamp:n};(0,r.getCurrentHub)().addBreadcrumb({category:"xhr",data:l,type:"http"},d)}function m(e){const{startTimestamp:t,endTimestamp:n}=e;if(n&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.error){const s=e.fetchData,o={data:e.error,input:e.args,startTimestamp:t,endTimestamp:n};(0,r.getCurrentHub)().addBreadcrumb({category:"fetch",data:s,level:"error",type:"http"},o)}else{const s={...e.fetchData,status_code:e.response&&e.response.status},o={input:e.args,response:e.response,startTimestamp:t,endTimestamp:n};(0,r.getCurrentHub)().addBreadcrumb({category:"fetch",data:s,type:"http"},o)}}function _(e){let t=e.from,n=e.to;const s=(0,u.parseUrl)(l.WINDOW.location.href);let o=(0,u.parseUrl)(t);const i=(0,u.parseUrl)(n);o.path||(o=s),s.protocol===i.protocol&&s.host===i.host&&(n=i.relative),s.protocol===o.protocol&&s.host===o.host&&(t=o.relative),(0,r.getCurrentHub)().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}h.__initStatic()},61333:(e,t,n)=>{n.d(t,{Dedupe:()=>r});class r{static __initStatic(){this.id="Dedupe"}setupOnce(e,t){}processEvent(e){if(e.type)return e;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!o(e,t))return!1;if(!s(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=i(t),r=i(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!o(e,t))return!1;if(!s(e,t))return!1;return!0}(e,t))return!0;return!1}(e,this._previousEvent))return null}catch(e){}return this._previousEvent=e}constructor(){this.name=r.id}}function s(e,t){let n=a(e),r=a(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],s=n[e];if(t.filename!==s.filename||t.lineno!==s.lineno||t.colno!==s.colno||t.function!==s.function)return!1}return!0}function o(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function i(e){return e.exception&&e.exception.values&&e.exception.values[0]}function a(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}r.__initStatic()},840544:(e,t,n)=>{n.d(t,{GlobalHandlers:()=>l});var r=n(612914),s=n(733734),o=n(827699),i=n(737299),a=n(547267),c=n(414399),u=n(193351);class l{static __initStatic(){this.id="GlobalHandlers"}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const t in e){const n=this._installFunc[t];n&&e[t]&&(n(),this._installFunc[t]=void 0)}}constructor(e){this.name=l.id,this._options={onerror:!0,onunhandledrejection:!0,...e},this._installFunc={onerror:d,onunhandledrejection:h}}}function d(){(0,s.addInstrumentationHandler)("error",(e=>{const[t,n,r]=g();if(!t.getIntegration(l))return;const{msg:s,url:i,line:a,column:d,error:h}=e;if((0,u.shouldIgnoreOnError)()||h&&h.__sentry_own_request__)return;const m=void 0===h&&(0,o.isString)(s)?function(e,t,n,r){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=(0,o.isErrorEvent)(e)?e.message:e,a="Error";const c=i.match(s);c&&(a=c[1],i=c[2]);const u={exception:{values:[{type:a,value:i}]}};return p(u,t,n,r)}(s,i,a,d):p((0,c.eventFromUnknownInput)(n,h||s,void 0,r,!1),i,a,d);m.level="error",f(t,h,m,"onerror")}))}function h(){(0,s.addInstrumentationHandler)("unhandledrejection",(e=>{const[t,n,r]=g();if(!t.getIntegration(l))return;let s=e;try{"reason"in e?s=e.reason:"detail"in e&&"reason"in e.detail&&(s=e.detail.reason)}catch(e){}if((0,u.shouldIgnoreOnError)()||s&&s.__sentry_own_request__)return!0;const i=(0,o.isPrimitive)(s)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(s)}`}]}}:(0,c.eventFromUnknownInput)(n,s,void 0,r,!0);i.level="error",f(t,s,i,"onunhandledrejection")}))}function p(e,t,n,r){const s=e.exception=e.exception||{},a=s.values=s.values||[],c=a[0]=a[0]||{},u=c.stacktrace=c.stacktrace||{},l=u.frames=u.frames||[],d=isNaN(parseInt(r,10))?void 0:r,h=isNaN(parseInt(n,10))?void 0:n,p=(0,o.isString)(t)&&t.length>0?t:(0,i.getLocationHref)();return 0===l.length&&l.push({colno:d,filename:p,function:"?",in_app:!0,lineno:h}),e}function f(e,t,n,r){(0,a.addExceptionMechanism)(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function g(){const e=(0,r.getCurrentHub)(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}l.__initStatic()},880815:(e,t,n)=>{n.d(t,{HttpContext:()=>s});var r=n(193351);class s{static __initStatic(){this.id="HttpContext"}setupOnce(){}preprocessEvent(e){if(!r.WINDOW.navigator&&!r.WINDOW.location&&!r.WINDOW.document)return;const t=e.request&&e.request.url||r.WINDOW.location&&r.WINDOW.location.href,{referrer:n}=r.WINDOW.document||{},{userAgent:s}=r.WINDOW.navigator||{},o={...e.request&&e.request.headers,...n&&{Referer:n},...s&&{"User-Agent":s}},i={...e.request,...t&&{url:t},headers:o};e.request=i}constructor(){this.name=s.id}}s.__initStatic()},279448:(e,t,n)=>{n.d(t,{LinkedErrors:()=>o});var r=n(209258),s=n(414399);class o{static __initStatic(){this.id="LinkedErrors"}setupOnce(){}preprocessEvent(e,t,n){const o=n.getOptions();(0,r.applyAggregateErrorsToEvent)(s.exceptionFromError,o.stackParser,o.maxValueLength,this._key,this._limit,e,t)}constructor(e={}){this.name=o.id,this._key=e.key||"cause",this._limit=e.limit||5}}o.__initStatic()},501446:(e,t,n)=>{n.d(t,{TryCatch:()=>a});var r=n(317200),s=n(648230),o=n(193351);const i=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class a{static __initStatic(){this.id="TryCatch"}setupOnce(){this._options.setTimeout&&(0,r.fill)(o.WINDOW,"setTimeout",c),this._options.setInterval&&(0,r.fill)(o.WINDOW,"setInterval",c),this._options.requestAnimationFrame&&(0,r.fill)(o.WINDOW,"requestAnimationFrame",u),this._options.XMLHttpRequest&&"XMLHttpRequest"in o.WINDOW&&(0,r.fill)(XMLHttpRequest.prototype,"send",l);const e=this._options.eventTarget;if(e){(Array.isArray(e)?e:i).forEach(d)}}constructor(e){this.name=a.id,this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}}function c(e){return function(...t){const n=t[0];return t[0]=(0,o.wrap)(n,{mechanism:{data:{function:(0,s.getFunctionName)(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function u(e){return function(t){return e.apply(this,[(0,o.wrap)(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,s.getFunctionName)(e)},handled:!1,type:"instrument"}})])}}function l(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&(0,r.fill)(n,e,(function(t){const n={mechanism:{data:{function:e,handler:(0,s.getFunctionName)(t)},handled:!1,type:"instrument"}},i=(0,r.getOriginalFunction)(t);return i&&(n.mechanism.data.handler=(0,s.getFunctionName)(i)),(0,o.wrap)(t,n)}))})),e.apply(this,t)}}function d(e){const t=o.WINDOW,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,r.fill)(n,"addEventListener",(function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=(0,o.wrap)(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,s.getFunctionName)(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,(0,o.wrap)(r,{mechanism:{data:{function:"addEventListener",handler:(0,s.getFunctionName)(r),target:e},handled:!1,type:"instrument"}}),i])}})),(0,r.fill)(n,"removeEventListener",(function(e){return function(t,n,r){const s=n;try{const n=s&&s.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(e){}return e.call(this,t,s,r)}})))}a.__initStatic()},279098:(e,t,n)=>{n.d(t,{init:()=>w});var r=n(660073),s=n(323397),o=n(306923),i=n(220749),a=n(612914),c=(n(156809),n(648230)),u=n(159615),l=n(733734),d=n(402575),h=n(193351),p=n(840544),f=n(501446),g=n(473498),m=n(279448),_=n(880815),S=n(61333),b=n(704143),v=n(209965),y=n(982379);const E=[new r.InboundFilters,new s.FunctionToString,new f.TryCatch,new g.Breadcrumbs,new p.GlobalHandlers,new m.LinkedErrors,new S.Dedupe,new _.HttpContext];function w(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=E),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),h.WINDOW.SENTRY_RELEASE&&h.WINDOW.SENTRY_RELEASE.id&&(e.release=h.WINDOW.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(0,c.stackParserFromStackParserOptions)(e.stackParser||b.defaultStackParser),integrations:(0,o.getIntegrationsToSetup)(e),transport:e.transport||((0,u.supportsFetch)()?v.makeFetchTransport:y.makeXHRTransport)};(0,i.initAndBind)(d.BrowserClient,t),e.autoSessionTracking&&function(){if(void 0===h.WINDOW.document)return;const e=(0,a.getCurrentHub)();if(!e.captureSession)return;O(e),(0,l.addInstrumentationHandler)("history",(({from:e,to:t})=>{void 0!==e&&e!==t&&O((0,a.getCurrentHub)())}))}()}function O(e){e.startSession({ignoreDuration:!0}),e.captureSession()}},704143:(e,t,n)=>{n.d(t,{defaultStackParser:()=>h});var r=n(648230);const s="?";function o(e,t,n,r){const s={filename:e,function:t,in_app:!0};return void 0!==n&&(s.lineno=n),void 0!==r&&(s.colno=r),s}const i=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/\((\S*)(?::(\d+))(?::(\d+))\)/,c=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,u=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,l=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,d=[[30,e=>{const t=i.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=a.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=p(t[1]||s,t[2]);return o(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=c.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=u.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||s;return[n,e]=p(n,e),o(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{const t=l.exec(e);return t?o(t[2],t[1]||s,+t[3],t[4]?+t[4]:void 0):void 0}]],h=(0,r.createStackParser)(...d),p=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:s,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]}},209965:(e,t,n)=>{n.d(t,{makeFetchTransport:()=>i});var r=n(927331),s=n(620051),o=n(338184);function i(e,t=(0,o.getNativeFetchImplementation)()){let n=0,i=0;return(0,r.createTransport)(e,(function(r){const a=r.body.length;n+=a,i++;const c={body:r.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&i<15,...e.fetchOptions};try{return t(e.url,c).then((e=>(n-=a,i--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return(0,o.clearCachedFetchImplementation)(),n-=a,i--,(0,s.rejectedSyncPromise)(e)}}))}},338184:(e,t,n)=>{n.d(t,{clearCachedFetchImplementation:()=>a,getNativeFetchImplementation:()=>i});var r=n(159615),s=n(193351);let o;function i(){if(o)return o;if((0,r.isNativeFetch)(s.WINDOW.fetch))return o=s.WINDOW.fetch.bind(s.WINDOW);const e=s.WINDOW.document;let t=s.WINDOW.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){}return o=t.bind(s.WINDOW)}function a(){o=void 0}},982379:(e,t,n)=>{n.d(t,{makeXHRTransport:()=>i});var r=n(927331),s=n(620051);const o=4;function i(e){return(0,r.createTransport)(e,(function(t){return new s.SyncPromise(((n,r)=>{const s=new XMLHttpRequest;s.onerror=r,s.onreadystatechange=()=>{s.readyState===o&&n({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&s.setRequestHeader(t,e.headers[t]);s.send(t.body)}))}))}},114248:(e,t,n)=>{n.d(t,{createUserFeedbackEnvelope:()=>o});var r=n(818510),s=n(226335);function o(e,{metadata:t,tunnel:n,dsn:o}){const i={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!o&&{dsn:(0,r.dsnToString)(o)}},a=function(e){return[{type:"user_report"},e]}(e);return(0,s.createEnvelope)(i,[a])}},156809:(e,t,n)=>{n.d(t,{getEnvelopeEndpointWithUrlEncodedAuth:()=>a,getReportDialogEndpoint:()=>c});var r=n(317200),s=n(818510);const o="7";function i(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function a(e,t={}){const n="string"==typeof t?t:t.tunnel,s="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${i(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return(0,r.urlEncode)({sentry_key:e.publicKey,sentry_version:o,...t&&{sentry_client:`${t.name}/${t.version}`}})}(e,s)}`}function c(e,t){const n=(0,s.makeDsn)(e);if(!n)return"";const r=`${i(n)}embed/error-page/`;let o=`dsn=${(0,s.dsnToString)(n)}`;for(const e in t)if("dsn"!==e)if("user"===e){const e=t.user;if(!e)continue;e.name&&(o+=`&name=${encodeURIComponent(e.name)}`),e.email&&(o+=`&email=${encodeURIComponent(e.email)}`)}else o+=`&${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`;return`${r}?${o}`}},341623:(e,t,n)=>{n.d(t,{BaseClient:()=>g});var r=n(547267),s=n(827699),o=n(620051),i=n(226335),a=n(649901),c=n(818510),u=n(156809),l=n(436109),d=n(306923),h=n(960593),p=n(536833),f=n(953906);class g{captureException(e,t,n){if((0,r.checkOrSetAlreadyCaught)(e))return;let s=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{s=e}))),s}captureMessage(e,t,n,r){let o=n&&n.event_id;const i=(0,s.isPrimitive)(e)?this.eventFromMessage(String(e),t,n):this.eventFromException(e,n);return this._process(i.then((e=>this._captureEvent(e,n,r))).then((e=>{o=e}))),o}captureEvent(e,t,n){if(t&&t.originalException&&(0,r.checkOrSetAlreadyCaught)(t.originalException))return;let s=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((e=>{s=e}))),s}captureSession(e){"string"!=typeof e.release||(this.sendSession(e),(0,h.updateSession)(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e)))):(0,o.resolvedSyncPromise)(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=(0,d.setupIntegrations)(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(e){return null}}addIntegration(e){(0,d.setupIntegration)(this,e,this._integrations)}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=(0,l.createEventEnvelope)(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=(0,i.addItemToEnvelope)(n,(0,i.createAttachmentEnvelopeItem)(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=(0,l.createSessionEnvelope)(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const n=`${e}:${t}`;this._outcomes[n]=this._outcomes[n]+1||1}}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_updateSessionFromEvent(e,t){let n=!1,r=!1;const s=t.exception&&t.exception.values;if(s){r=!0;for(const e of s){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const o="ok"===e.status;(o&&0===e.errors||o&&n)&&((0,h.updateSession)(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new o.SyncPromise((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n){const r=this.getOptions(),s=Object.keys(this._integrations);return!t.integrations&&s.length>0&&(t.integrations=s),this.emit("preprocessEvent",e,t),(0,f.prepareEvent)(r,e,t,n,this).then((e=>{if(null===e)return e;const{propagationContext:t}=e.sdkProcessingMetadata||{};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:r,spanId:s,parentSpanId:o,dsc:i}=t;e.contexts={trace:{trace_id:r,span_id:s,parent_span_id:o},...e.contexts};const a=i||(0,p.getDynamicSamplingContextFromClient)(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{0}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:i}=r,c=_(e),u=m(e),l=e.type||"error",d=`before send for type \`${l}\``;if(u&&"number"==typeof i&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),(0,o.rejectedSyncPromise)(new a.SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const h="replay_event"===l?"replay":l;return this._prepareEvent(e,t,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",h,e),new a.SentryError("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const o=function(e,t,n){const{beforeSend:r,beforeSendTransaction:s}=e;if(m(t)&&r)return r(t,n);if(_(t)&&s)return s(t,n);return t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if((0,s.isThenable)(e))return e.then((e=>{if(!(0,s.isPlainObject)(e)&&null!==e)throw new a.SentryError(n);return e}),(e=>{throw new a.SentryError(`${t} rejected with ${e}`)}));if(!(0,s.isPlainObject)(e)&&null!==e)throw new a.SentryError(n);return e}(o,d)})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",h,e),new a.SentryError(`${d} returned \`null\`, will not send event.`,"log");const s=n&&n.getSession();!c&&s&&this._updateSessionFromEvent(s,r);const o=r.transaction_info;if(c&&o&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...o,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof a.SentryError)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new a.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{}))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn&&(this._dsn=(0,c.makeDsn)(e.dsn)),this._dsn){const t=(0,u.getEnvelopeEndpointWithUrlEncodedAuth)(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}}function m(e){return void 0===e.type}function _(e){return"transaction"===e.type}},865448:(e,t,n)=>{n.d(t,{DEFAULT_ENVIRONMENT:()=>r});const r="production"},436109:(e,t,n)=>{n.d(t,{createEventEnvelope:()=>i,createSessionEnvelope:()=>o});var r=n(226335),s=n(818510);function o(e,t,n,o){const i=(0,r.getSdkMetadataForEnvelopeHeader)(n),a={sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!o&&t&&{dsn:(0,s.dsnToString)(t)}},c="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return(0,r.createEnvelope)(a,[c])}function i(e,t,n,s){const o=(0,r.getSdkMetadataForEnvelopeHeader)(n),i=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const a=(0,r.createEventEnvelopeHeaders)(e,o,s,t);delete e.sdkProcessingMetadata;const c=[{type:i},e];return(0,r.createEnvelope)(a,[c])}},661792:(e,t,n)=>{n.d(t,{addGlobalEventProcessor:()=>a,getGlobalEventProcessors:()=>i,notifyEventProcessors:()=>c});var r=n(664540),s=n(620051),o=n(827699);function i(){return(0,r.getGlobalSingleton)("globalEventProcessors",(()=>[]))}function a(e){i().push(e)}function c(e,t,n,r=0){return new s.SyncPromise(((s,i)=>{const a=e[r];if(null===t||"function"!=typeof a)s(t);else{const u=a({...t},n);(0,o.isThenable)(u)?u.then((t=>c(e,t,n,r+1).then(s))).then(null,i):c(e,u,n,r+1).then(s).then(null,i)}}))}},170802:(e,t,n)=>{n.d(t,{captureException:()=>s,withScope:()=>o});n(547267),n(788686),n(827699);var r=n(612914);function s(e,t){return(0,r.getCurrentHub)().captureException(e,{captureContext:t})}function o(e){(0,r.getCurrentHub)().withScope(e)}},612914:(e,t,n)=>{n.d(t,{getCurrentHub:()=>g});var r=n(547267),s=n(788686),o=n(902359),i=n(664540),a=n(865448),c=n(355289),u=n(960593);const l=4,d=100;class h{isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=c.Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:(0,r.uuid4)(),s=new Error("Sentry syntheticException");return this._withClient(((r,o)=>{r.captureException(e,{originalException:e,syntheticException:s,...t,event_id:n},o)})),n}captureMessage(e,t,n){const s=this._lastEventId=n&&n.event_id?n.event_id:(0,r.uuid4)(),o=new Error(e);return this._withClient(((r,i)=>{r.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:s},i)})),s}captureEvent(e,t){const n=t&&t.event_id?t.event_id:(0,r.uuid4)();return e.type||(this._lastEventId=n),this._withClient(((r,s)=>{r.captureEvent(e,{...t,event_id:n},s)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:a=d}=r.getOptions&&r.getOptions()||{};if(a<=0)return;const c={timestamp:(0,s.dateTimestampInSeconds)(),...e},u=i?(0,o.consoleSandbox)((()=>i(c,t))):c;null!==u&&(r.emit&&r.emit("beforeAddBreadcrumb",u,t),n.addBreadcrumb(u,a))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=f(this);try{e(this)}finally{f(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(e){return null}}startTransaction(e,t){return this._callExtensionMethod("startTransaction",e,t)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&(0,u.closeSession)(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:s=a.DEFAULT_ENVIRONMENT}=n&&n.getOptions()||{},{userAgent:o}=i.GLOBAL_OBJ.navigator||{},c=(0,u.makeSession)({release:r,environment:s,user:t.getUser(),...o&&{userAgent:o},...e}),l=t.getSession&&t.getSession();return l&&"ok"===l.status&&(0,u.updateSession)(l,{status:"exited"}),this.endSession(),t.setSession(c),c}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_withClient(e){const{scope:t,client:n}=this.getStackTop();n&&e(n,t)}_callExtensionMethod(e,...t){const n=p().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t)}constructor(e,t=new c.Scope,n=l){this._version=n,this._stack=[{scope:t}],e&&this.bindClient(e)}}function p(){return i.GLOBAL_OBJ.__SENTRY__=i.GLOBAL_OBJ.__SENTRY__||{extensions:{},hub:void 0},i.GLOBAL_OBJ}function f(e){const t=p(),n=S(t);return b(t,e),n}function g(){const e=p();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return m(e)}function m(e=p()){return _(e)&&!S(e).isOlderThan(l)||b(e,new h),S(e)}function _(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function S(e){return(0,i.getGlobalSingleton)("hub",(()=>new h),e)}function b(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}},306923:(e,t,n)=>{n.d(t,{getIntegrationsToSetup:()=>a,setupIntegration:()=>u,setupIntegrations:()=>c});var r=n(547267),s=n(661792),o=n(612914);const i=[];function a(e){const t=e.defaultIntegrations||[],n=e.integrations;let s;t.forEach((e=>{e.isDefaultInstance=!0})),s=Array.isArray(n)?[...t,...n]:"function"==typeof n?(0,r.arrayify)(n(t)):t;const o=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((e=>t[e]))}(s),i=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return-1}(o,(e=>"Debug"===e.name));if(-1!==i){const[e]=o.splice(i,1);o.push(e)}return o}function c(e,t){const n={};return t.forEach((t=>{t&&u(e,t,n)})),n}function u(e,t,n){if(n[t.name]=t,-1===i.indexOf(t.name)&&(t.setupOnce(s.addGlobalEventProcessor,o.getCurrentHub),i.push(t.name)),e.on&&"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if(e.addEventProcessor&&"function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}}},323397:(e,t,n)=>{n.d(t,{FunctionToString:()=>o});var r=n(317200);let s;class o{static __initStatic(){this.id="FunctionToString"}setupOnce(){s=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=(0,r.getOriginalFunction)(this)||this;return s.apply(t,e)}}catch(e){}}constructor(){this.name=o.id}}o.__initStatic()},660073:(e,t,n)=>{n.d(t,{InboundFilters:()=>i});var r=n(307806);const s=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],o=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/];class i{static __initStatic(){this.id="InboundFilters"}setupOnce(e,t){}processEvent(e,t,n){const i=n.getOptions(),c=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:s],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:o],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(this._options,i);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));0;return t}(e).some((e=>(0,r.stringMatchesSomePattern)(e,t)))}(e,t.ignoreErrors))return!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&(0,r.stringMatchesSomePattern)(n,t)}(e,t.ignoreTransactions))return!0;if(function(e,t){if(!t||!t.length)return!1;const n=a(e);return!!n&&(0,r.stringMatchesSomePattern)(n,t)}(e,t.denyUrls))return!0;if(!function(e,t){if(!t||!t.length)return!0;const n=a(e);return!n||(0,r.stringMatchesSomePattern)(n,t)}(e,t.allowUrls))return!0;return!1}(e,c)?null:e}constructor(e={}){this.name=i.id,this._options=e}}function a(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(e){return null}}i.__initStatic()},355289:(e,t,n)=>{n.d(t,{Scope:()=>c});var r=n(827699),s=n(788686),o=n(547267),i=n(661792),a=n(960593);class c{static clone(e){const t=new c;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments],t._sdkProcessingMetadata={...e._sdkProcessingMetadata},t._propagationContext={...e._propagationContext}),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&(0,a.updateSession)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){const t=e(this);return t instanceof c?t:this}return e instanceof c?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession),e._propagationContext&&(this._propagationContext=e._propagationContext)):(0,r.isPlainObject)(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=u(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:(0,s.dateTimestampInSeconds)(),...e},o=this._breadcrumbs;return o.push(r),this._breadcrumbs=o.length>n?o.slice(-n):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={},n){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const t=this._span.transaction;if(t){e.sdkProcessingMetadata={dynamicSamplingContext:t.getDynamicSamplingContext(),...e.sdkProcessingMetadata};const n=t.name;n&&(e.tags={transaction:n,...e.tags})}}this._applyFingerprint(e);const r=this._getBreadcrumbs(),s=[...e.breadcrumbs||[],...r];return e.breadcrumbs=s.length>0?s:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},(0,i.notifyEventProcessors)([...n||[],...(0,i.getGlobalEventProcessors)(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}_getBreadcrumbs(){return this._breadcrumbs}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?(0,o.arrayify)(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=u()}}function u(){return{traceId:(0,o.uuid4)(),spanId:(0,o.uuid4)().substring(16)}}},220749:(e,t,n)=>{n.d(t,{initAndBind:()=>s});var r=n(612914);function s(e,t){!0===t.debug&&console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.");const n=(0,r.getCurrentHub)();n.getScope().update(t.initialScope);const s=new e(t);n.bindClient(s)}},960593:(e,t,n)=>{n.d(t,{closeSession:()=>c,makeSession:()=>i,updateSession:()=>a});var r=n(788686),s=n(547267),o=n(317200);function i(e){const t=(0,r.timestampInSeconds)(),n={sid:(0,s.uuid4)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return(0,o.dropUndefinedKeys)({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&a(n,e),n}function a(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,r.timestampInSeconds)(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,s.uuid4)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function c(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),a(e,n)}},536833:(e,t,n)=>{n.d(t,{getDynamicSamplingContextFromClient:()=>o});var r=n(317200),s=n(865448);function o(e,t,n){const o=t.getOptions(),{publicKey:i}=t.getDsn()||{},{segment:a}=n&&n.getUser()||{},c=(0,r.dropUndefinedKeys)({environment:o.environment||s.DEFAULT_ENVIRONMENT,release:o.release,user_segment:a,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",c),c}},927331:(e,t,n)=>{n.d(t,{createTransport:()=>u});var r=n(256184),s=n(226335),o=n(362966),i=n(620051),a=n(649901);const c=30;function u(e,t,n=(0,r.makePromiseBuffer)(e.bufferSize||c)){let u={};function d(r){const c=[];if((0,s.forEachEnvelopeItem)(r,((t,n)=>{const r=(0,s.envelopeItemTypeToDataCategory)(n);if((0,o.isRateLimited)(u,r)){const s=l(t,n);e.recordDroppedEvent("ratelimit_backoff",r,s)}else c.push(t)})),0===c.length)return(0,i.resolvedSyncPromise)();const d=(0,s.createEnvelope)(r[0],c),h=t=>{(0,s.forEachEnvelopeItem)(d,((n,r)=>{const o=l(n,r);e.recordDroppedEvent(t,(0,s.envelopeItemTypeToDataCategory)(r),o)}))};return n.add((()=>t({body:(0,s.serializeEnvelope)(d,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode),u=(0,o.updateRateLimits)(u,e),e)),(e=>{throw h("network_error"),e})))).then((e=>e),(e=>{if(e instanceof a.SentryError)return h("queue_overflow"),(0,i.resolvedSyncPromise)();throw e}))}return d.__sentry__baseTransport__=!0,{send:d,flush:e=>n.drain(e)}}function l(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}},953906:(e,t,n)=>{n.d(t,{prepareEvent:()=>h});var r=n(547267),s=n(788686),o=n(620051),i=n(307806),a=n(664540),c=n(220636),u=n(865448),l=n(661792),d=n(355289);function h(e,t,n,h,f){const{normalizeDepth:g=3,normalizeMaxBreadth:m=1e3}=e,_={...t,event_id:t.event_id||n.event_id||(0,r.uuid4)(),timestamp:t.timestamp||(0,s.dateTimestampInSeconds)()},S=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:s,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?n:u.DEFAULT_ENVIRONMENT);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==s&&(e.dist=s);e.message&&(e.message=(0,i.truncate)(e.message,o));const a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=(0,i.truncate)(a.value,o));const c=e.request;c&&c.url&&(c.url=(0,i.truncate)(c.url,o))}(_,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(_,S),void 0===t.type&&function(e,t){const n=a.GLOBAL_OBJ._sentryDebugIds;if(!n)return;let r;const s=p.get(t);s?r=s:(r=new Map,p.set(t,r));const o=Object.keys(n).reduce(((e,s)=>{let o;const i=r.get(s);i?o=i:(o=t(s),r.set(s,o));for(let t=o.length-1;t>=0;t--){const r=o[t];if(r.filename){e[r.filename]=n[s];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=o[e.filename])}))}))}catch(e){}}(_,e.stackParser);let b=h;n.captureContext&&(b=d.Scope.clone(b).update(n.captureContext));let v=(0,o.resolvedSyncPromise)(_);const y=f&&f.getEventProcessors?f.getEventProcessors():[];if(b){if(b.getAttachments){const e=[...n.attachments||[],...b.getAttachments()];e.length&&(n.attachments=e)}v=b.applyToEvent(_,n,y)}else v=(0,l.notifyEventProcessors)([...y,...(0,l.getGlobalEventProcessors)()],_,n);return v.then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"==typeof g&&g>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:(0,c.normalize)(e.data,t,n)}})))},...e.user&&{user:(0,c.normalize)(e.user,t,n)},...e.contexts&&{contexts:(0,c.normalize)(e.contexts,t,n)},...e.extra&&{extra:(0,c.normalize)(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=(0,c.normalize)(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>(e.data&&(e.data=(0,c.normalize)(e.data,t,n)),e))));return r}(e,g,m):e)))}const p=new WeakMap},637217:(e,t,n)=>{n.d(t,{SDK_VERSION:()=>r});const r="7.77.0"},49043:(e,t,n)=>{n.d(t,{ContextLines:()=>a});var r=n(664540),s=n(495846),o=n(547267);const i=r.GLOBAL_OBJ;class a{static __initStatic(){this.id="ContextLines"}setupOnce(e,t){}processEvent(e){return this.addSourceContext(e)}addSourceContext(e){const t=i.document,n=i.location&&(0,s.stripUrlQueryAndFragment)(i.location.href);if(!t||!n)return e;const r=e.exception&&e.exception.values;if(!r||!r.length)return e;const a=t.documentElement.innerHTML;if(!a)return e;const c=["<!DOCTYPE html>","<html>",...a.split("\n"),"</html>"];return r.forEach((e=>{const t=e.stacktrace;t&&t.frames&&(t.frames=t.frames.map((e=>function(e,t,n,r){if(e.filename!==n||!e.lineno||!t.length)return e;return(0,o.addContextToFrame)(t,e,r),e}(e,c,n,null!=this._options.frameContextLines?this._options.frameContextLines:7))))})),e}constructor(e={}){this._options=e,this.name=a.id}}a.__initStatic()},879097:(e,t,n)=>{n.d(t,{ExtraErrorData:()=>i});var r=n(827699),s=n(220636),o=n(317200);class i{static __initStatic(){this.id="ExtraErrorData"}setupOnce(e,t){}processEvent(e,t){return this.enhanceEventWithErrorData(e,t)}enhanceEventWithErrorData(e,t={}){return function(e,t={},n){if(!t.originalException||!(0,r.isError)(t.originalException))return e;const i=t.originalException.name||t.originalException.constructor.name,a=function(e){try{const t=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],n={};for(const s of Object.keys(e)){if(-1!==t.indexOf(s))continue;const o=e[s];n[s]=(0,r.isError)(o)?o.toString():o}if("function"==typeof e.toJSON){const t=e.toJSON();for(const e of Object.keys(t)){const s=t[e];n[e]=(0,r.isError)(s)?s.toString():s}}return n}catch(e){}return null}(t.originalException);if(a){const t={...e.contexts},c=(0,s.normalize)(a,n);return(0,r.isPlainObject)(c)&&((0,o.addNonEnumerableProperty)(c,"__sentry_skip_normalization__",!0),t[i]=c),{...e,contexts:t}}return e}(e,t,this._options.depth)}constructor(e){this.name=i.id,this._options={depth:3,...e}}}i.__initStatic()},209258:(e,t,n)=>{n.d(t,{applyAggregateErrorsToEvent:()=>o});var r=n(827699),s=n(307806);function o(e,t,n=250,o,a,c,u){if(!(c.exception&&c.exception.values&&u&&(0,r.isInstanceOf)(u.originalException,Error)))return;const l=c.exception.values.length>0?c.exception.values[c.exception.values.length-1]:void 0;var d,h;l&&(c.exception.values=(d=i(e,t,a,u.originalException,o,c.exception.values,l,0),h=n,d.map((e=>(e.value&&(e.value=(0,s.truncate)(e.value,h)),e)))))}function i(e,t,n,s,o,u,l,d){if(u.length>=n+1)return u;let h=[...u];if((0,r.isInstanceOf)(s[o],Error)){a(l,d);const r=e(t,s[o]),u=h.length;c(r,o,u,d),h=i(e,t,n,s[o],o,[r,...h],r,u)}return Array.isArray(s.errors)&&s.errors.forEach(((s,u)=>{if((0,r.isInstanceOf)(s,Error)){a(l,d);const r=e(t,s),p=h.length;c(r,`errors[${u}]`,p,d),h=i(e,t,n,s,o,[r,...h],r,p)}})),h}function a(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,is_exception_group:!0,exception_id:t}}function c(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}},737299:(e,t,n)=>{n.d(t,{getLocationHref:()=>c,htmlTreeAsString:()=>i});var r=n(827699);const s=(0,n(664540).getGlobalObject)(),o=80;function i(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,c=0;const u=" > ",l=u.length;let d;const h=Array.isArray(t)?t:t.keyAttrs,p=!Array.isArray(t)&&t.maxStringLength||o;for(;n&&i++<r&&(d=a(n,h),!("html"===d||i>1&&c+s.length*l+d.length>=p));)s.push(d),c+=d.length,n=n.parentNode;return s.reverse().join(u)}catch(e){return"<unknown>"}}function a(e,t){const n=e,s=[];let o,i,a,c,u;if(!n||!n.tagName)return"";s.push(n.tagName.toLowerCase());const l=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(l&&l.length)l.forEach((e=>{s.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&s.push(`#${n.id}`),o=n.className,o&&(0,r.isString)(o))for(i=o.split(/\s+/),u=0;u<i.length;u++)s.push(`.${i[u]}`);const d=["aria-label","type","name","title","alt"];for(u=0;u<d.length;u++)a=d[u],c=n.getAttribute(a),c&&s.push(`[${a}="${c}"]`);return s.join("")}function c(){try{return s.document.location.href}catch(e){return""}}},57990:(e,t,n)=>{n.d(t,{createClientReportEnvelope:()=>o});var r=n(226335),s=n(788686);function o(e,t,n){const o=[{type:"client_report"},{timestamp:n||(0,s.dateTimestampInSeconds)(),discarded_events:e}];return(0,r.createEnvelope)(t?{dsn:t}:{},[o])}},818510:(e,t,n)=>{n.d(t,{dsnToString:()=>s,makeDsn:()=>i});n(902359);const r=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function s(e,t=!1){const{host:n,path:r,pass:s,port:o,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${i}`}function o(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function i(e){const t="string"==typeof e?function(e){const t=r.exec(e);if(!t)return void console.error(`Invalid Sentry Dsn: ${e}`);const[n,s,i="",a,c="",u]=t.slice(1);let l="",d=u;const h=d.split("/");if(h.length>1&&(l=h.slice(0,-1).join("/"),d=h.pop()),d){const e=d.match(/^\d+/);e&&(d=e[0])}return o({host:a,pass:i,path:l,projectId:d,port:c,protocol:n,publicKey:s})}(e):o(e);if(t)return t}},845832:(e,t,n)=>{function r(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function s(){return"npm"}n.d(t,{getSDKSource:()=>s,isBrowserBundle:()=>r})},226335:(e,t,n)=>{n.d(t,{addItemToEnvelope:()=>a,createAttachmentEnvelopeItem:()=>d,createEnvelope:()=>i,createEventEnvelopeHeaders:()=>g,envelopeItemTypeToDataCategory:()=>p,forEachEnvelopeItem:()=>c,getSdkMetadataForEnvelopeHeader:()=>f,serializeEnvelope:()=>l});var r=n(818510),s=n(220636),o=n(317200);function i(e,t=[]){return[e,t]}function a(e,t){const[n,r]=e;return[n,[...r,t]]}function c(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function u(e,t){return(t||new TextEncoder).encode(e)}function l(e,t){const[n,r]=e;let o=JSON.stringify(n);function i(e){"string"==typeof o?o="string"==typeof e?o+e:[u(o,t),e]:o.push("string"==typeof e?u(e,t):e)}for(const e of r){const[t,n]=e;if(i(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)i(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify((0,s.normalize)(n))}i(e)}}return"string"==typeof o?o:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(o)}function d(e,t){const n="string"==typeof e.data?u(e.data,t):e.data;return[(0,o.dropUndefinedKeys)({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const h={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",statsd:"unknown"};function p(e){return h[e]}function f(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function g(e,t,n,s){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&s&&{dsn:(0,r.dsnToString)(s)},...i&&{trace:(0,o.dropUndefinedKeys)({...i})}}}},649901:(e,t,n)=>{n.d(t,{SentryError:()=>r});class r extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}},733734:(e,t,n)=>{n.d(t,{SENTRY_XHR_DATA_KEY:()=>d,addInstrumentationHandler:()=>g});var r=n(827699),s=n(902359),o=n(547267),i=n(317200),a=n(159615),c=n(664540),u=n(692934);const l=(0,c.getGlobalObject)(),d="__sentry_xhr_v2__",h={},p={};function f(e){if(!p[e])switch(p[e]=!0,e){case"console":!function(){if(!("console"in c.GLOBAL_OBJ))return;s.CONSOLE_LEVELS.forEach((function(e){e in c.GLOBAL_OBJ.console&&(0,i.fill)(c.GLOBAL_OBJ.console,e,(function(t){return s.originalConsoleMethods[e]=t,function(...t){m("console",{args:t,level:e});const n=s.originalConsoleMethods[e];n&&n.apply(c.GLOBAL_OBJ.console,t)}}))}))}();break;case"dom":!function(){if(!l.document)return;const e=m.bind(null,"dom"),t=O(e,!0);l.document.addEventListener("click",t,!1),l.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=l[t]&&l[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,i.fill)(n,"addEventListener",(function(t){return function(n,r,s){if("click"===n||"keypress"==n)try{const r=this,o=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},i=o[n]=o[n]||{refCount:0};if(!i.handler){const r=O(e);i.handler=r,t.call(this,n,r,s)}i.refCount++}catch(e){}return t.call(this,n,r,s)}})),(0,i.fill)(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,s=n.__sentry_instrumentation_handlers__||{},o=s[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete s[t]),0===Object.keys(s).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}();break;case"xhr":!function(){if(!l.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;(0,i.fill)(e,"open",(function(e){return function(...t){const n=Date.now(),s=t[1],o=this[d]={method:(0,r.isString)(t[0])?t[0].toUpperCase():t[0],url:t[1],request_headers:{}};(0,r.isString)(s)&&"POST"===o.method&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const a=()=>{const e=this[d];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}m("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?(0,i.fill)(this,"onreadystatechange",(function(e){return function(...t){return a(),e.apply(this,t)}})):this.addEventListener("readystatechange",a),(0,i.fill)(this,"setRequestHeader",(function(e){return function(...t){const[n,r]=t,s=this[d];return s&&(s.request_headers[n.toLowerCase()]=r),e.apply(this,t)}})),e.apply(this,t)}})),(0,i.fill)(e,"send",(function(e){return function(...t){const n=this[d];return n&&void 0!==t[0]&&(n.body=t[0]),m("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}();break;case"fetch":!function(){if(!(0,a.supportsNativeFetch)())return;(0,i.fill)(c.GLOBAL_OBJ,"fetch",(function(e){return function(...t){const{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:S(t),method:_(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:S(t),method:_(t,"method")?String(t.method).toUpperCase():"GET"}}(t),s={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return m("fetch",{...s}),e.apply(c.GLOBAL_OBJ,t).then((e=>(m("fetch",{...s,endTimestamp:Date.now(),response:e}),e)),(e=>{throw m("fetch",{...s,endTimestamp:Date.now(),error:e}),e}))}}))}();break;case"history":!function(){if(!(0,u.supportsHistory)())return;const e=l.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=b,t=String(n);b=t,m("history",{from:e,to:t})}return e.apply(this,t)}}l.onpopstate=function(...t){const n=l.location.href,r=b;if(b=n,m("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},(0,i.fill)(l.history,"pushState",t),(0,i.fill)(l.history,"replaceState",t)}();break;case"error":k=l.onerror,l.onerror=function(e,t,n,r,s){return m("error",{column:r,error:s,line:n,msg:e,url:t}),!(!k||k.__SENTRY_LOADER__)&&k.apply(this,arguments)},l.onerror.__SENTRY_INSTRUMENTED__=!0;break;case"unhandledrejection":x=l.onunhandledrejection,l.onunhandledrejection=function(e){return m("unhandledrejection",e),!(x&&!x.__SENTRY_LOADER__)||x.apply(this,arguments)},l.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0;break;default:return}}function g(e,t){h[e]=h[e]||[],h[e].push(t),f(e)}function m(e,t){if(e&&h[e])for(const n of h[e]||[])try{n(t)}catch(e){}}function _(e,t){return!!e&&"object"==typeof e&&!!e[t]}function S(e){return"string"==typeof e?e:e?_(e,"url")?e.url:e.toString?e.toString():"":""}let b;const v=1e3;let y,E,w;function O(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;(0,i.addNonEnumerableProperty)(n,"_sentryCaptured",!0),r&&!r._sentryId&&(0,i.addNonEnumerableProperty)(r,"_sentryId",(0,o.uuid4)());const s="keypress"===n.type?"input":n.type;(function(e){if(e.type!==E)return!1;try{if(!e.target||e.target._sentryId!==w)return!1}catch(e){}return!0})(n)||(e({event:n,name:s,global:t}),E=n.type,w=r?r._sentryId:void 0),clearTimeout(y),y=l.setTimeout((()=>{w=void 0,E=void 0}),v)}}let k=null;let x=null},827699:(e,t,n)=>{n.d(t,{isDOMError:()=>a,isDOMException:()=>c,isElement:()=>p,isError:()=>s,isErrorEvent:()=>i,isEvent:()=>h,isInstanceOf:()=>S,isNaN:()=>_,isPlainObject:()=>d,isPrimitive:()=>l,isRegExp:()=>f,isString:()=>u,isSyntheticEvent:()=>m,isThenable:()=>g,isVueViewModel:()=>b});const r=Object.prototype.toString;function s(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return S(e,Error)}}function o(e,t){return r.call(e)===`[object ${t}]`}function i(e){return o(e,"ErrorEvent")}function a(e){return o(e,"DOMError")}function c(e){return o(e,"DOMException")}function u(e){return o(e,"String")}function l(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function d(e){return o(e,"Object")}function h(e){return"undefined"!=typeof Event&&S(e,Event)}function p(e){return"undefined"!=typeof Element&&S(e,Element)}function f(e){return o(e,"RegExp")}function g(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function m(e){return d(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function _(e){return"number"==typeof e&&e!=e}function S(e,t){try{return e instanceof t}catch(e){return!1}}function b(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}},902359:(e,t,n)=>{n.d(t,{CONSOLE_LEVELS:()=>s,consoleSandbox:()=>i,logger:()=>a,originalConsoleMethods:()=>o});var r=n(664540);const s=["debug","info","warn","error","log","assert","trace"],o={};function i(e){if(!("console"in r.GLOBAL_OBJ))return e();const t=r.GLOBAL_OBJ.console,n={},s=Object.keys(o);s.forEach((e=>{const r=o[e];n[e]=t[e],t[e]=r}));try{return e()}finally{s.forEach((e=>{t[e]=n[e]}))}}const a=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return s.forEach((e=>{t[e]=()=>{}})),t}()},95241:(e,t,n)=>{function r(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++){if(t[e]===n)return!0}return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}n.d(t,{memoBuilder:()=>r})},547267:(e,t,n)=>{n.d(t,{addContextToFrame:()=>d,addExceptionMechanism:()=>l,addExceptionTypeValue:()=>u,arrayify:()=>p,checkOrSetAlreadyCaught:()=>h,getEventDescription:()=>c,uuid4:()=>i});var r=n(317200),s=n(307806),o=n(664540);function i(){const e=o.GLOBAL_OBJ,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>t.getRandomValues(new Uint8Array(1))[0])}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function a(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function c(e){const{message:t,event_id:n}=e;if(t)return t;const r=a(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function u(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],o=s[0]=s[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function l(e,t){const n=a(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function d(e,t,n=5){if(void 0===t.lineno)return;const r=e.length,o=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map((e=>(0,s.snipLine)(e,0))),t.context_line=(0,s.snipLine)(e[Math.min(r-1,o)],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map((e=>(0,s.snipLine)(e,0)))}function h(e){if(e&&e.__sentry_captured__)return!0;try{(0,r.addNonEnumerableProperty)(e,"__sentry_captured__",!0)}catch(e){}return!1}function p(e){return Array.isArray(e)?e:[e]}},62534:(e,t,n)=>{function r(e,t=!1){return!(t||e&&!e.startsWith("/")&&!e.includes(":\\")&&!e.startsWith(".")&&!e.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&void 0!==e&&!e.includes("node_modules/")}function s(e){const t=/^\s*[-]{4,}$/,n=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return s=>{const o=s.match(n);if(o){let t,n,s,i,a;if(o[1]){s=o[1];let e=s.lastIndexOf(".");if("."===s[e-1]&&e--,e>0){t=s.slice(0,e),n=s.slice(e+1);const r=t.indexOf(".Module");r>0&&(s=s.slice(r+1),t=t.slice(0,r))}i=void 0}n&&(i=t,a=n),"<anonymous>"===n&&(a=void 0,s=void 0),void 0===s&&(a=a||"<anonymous>",s=i?`${i}.${a}`:a);let c=o[2]&&o[2].startsWith("file://")?o[2].slice(7):o[2];const u="native"===o[5];return c||!o[5]||u||(c=o[5]),{filename:c,module:e?e(c):void 0,function:s,lineno:parseInt(o[3],10)||void 0,colno:parseInt(o[4],10)||void 0,in_app:r(c,u)}}if(s.match(t))return{filename:s}}}n.d(t,{node:()=>s})},465423:(e,t,n)=>{n.d(t,{dynamicRequire:()=>o,isNodeEnv:()=>s});var r=n(845832);function s(){return!(0,r.isBrowserBundle)()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function o(e,t){return e.require(t)}e=n.hmd(e)},220636:(e,t,n)=>{n.d(t,{normalize:()=>a,normalizeToSize:()=>c});var r=n(827699),s=n(95241),o=n(317200),i=n(648230);function a(e,t=100,n=1/0){try{return u("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function c(e,t=3,n=102400){const r=a(e,t);return s=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(s))>n?c(e,t-1,n):r;var s}function u(e,t,a=1/0,c=1/0,l=(0,s.memoBuilder)()){const[d,h]=l;if(null==t||["number","boolean","string"].includes(typeof t)&&!(0,r.isNaN)(t))return t;const p=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==n.g&&t===n.g)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if((0,r.isVueViewModel)(t))return"[VueViewModel]";if((0,r.isSyntheticEvent)(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${(0,i.getFunctionName)(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const s=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(s)?`[HTMLElement: ${s}]`:`[object ${s}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!p.startsWith("[object "))return p;if(t.__sentry_skip_normalization__)return t;const f="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:a;if(0===f)return p.replace("object ","");if(d(t))return"[Circular ~]";const g=t;if(g&&"function"==typeof g.toJSON)try{return u("",g.toJSON(),f-1,c,l)}catch(e){}const m=Array.isArray(t)?[]:{};let _=0;const S=(0,o.convertToPlainObject)(t);for(const e in S){if(!Object.prototype.hasOwnProperty.call(S,e))continue;if(_>=c){m[e]="[MaxProperties ~]";break}const t=S[e];m[e]=u(e,t,f-1,c,l),_++}return h(t),m}},317200:(e,t,n)=>{n.d(t,{addNonEnumerableProperty:()=>a,convertToPlainObject:()=>d,dropUndefinedKeys:()=>g,extractExceptionKeysForMessage:()=>f,fill:()=>i,getOriginalFunction:()=>u,markFunctionWrapped:()=>c,urlEncode:()=>l});var r=n(737299),s=n(827699),o=n(307806);function i(e,t,n){if(!(t in e))return;const r=e[t],s=n(r);"function"==typeof s&&c(s,r),e[t]=s}function a(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(e){}}function c(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,a(e,"__sentry_original__",t)}catch(e){}}function u(e){return e.__sentry_original__}function l(e){return Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}function d(e){if((0,s.isError)(e))return{message:e.message,name:e.name,stack:e.stack,...p(e)};if((0,s.isEvent)(e)){const t={type:e.type,target:h(e.target),currentTarget:h(e.currentTarget),...p(e)};return"undefined"!=typeof CustomEvent&&(0,s.isInstanceOf)(e,CustomEvent)&&(t.detail=e.detail),t}return e}function h(e){try{return(0,s.isElement)(e)?(0,r.htmlTreeAsString)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function p(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function f(e,t=40){const n=Object.keys(d(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,o.truncate)(n[0],t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:(0,o.truncate)(r,t)}return""}function g(e){return m(e,new Map)}function m(e,t){if((0,s.isPlainObject)(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))void 0!==e[n]&&(r[n]=m(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(m(e,t))})),r}return e}},256184:(e,t,n)=>{n.d(t,{makePromiseBuffer:()=>o});var r=n(649901),s=n(620051);function o(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(o){if(!(void 0===e||t.length<e))return(0,s.rejectedSyncPromise)(new r.SentryError("Not adding Promise because buffer limit was reached."));const i=o();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new s.SyncPromise(((n,r)=>{let o=t.length;if(!o)return n(!0);const i=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{(0,s.resolvedSyncPromise)(e).then((()=>{--o||(clearTimeout(i),n(!0))}),r)}))}))}}}},362966:(e,t,n)=>{n.d(t,{isRateLimited:()=>s,updateRateLimits:()=>o});const r=6e4;function s(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}function o(e,{statusCode:t,headers:n},s=Date.now()){const o={...e},i=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(i)for(const e of i.trim().split(",")){const[t,n]=e.split(":",2),r=parseInt(t,10),i=1e3*(isNaN(r)?60:r);if(n)for(const e of n.split(";"))o[e]=s+i;else o.all=s+i}else a?o.all=s+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const s=Date.parse(`${e}`);return isNaN(s)?r:s-t}(a,s):429===t&&(o.all=s+6e4);return o}},526240:(e,t,n)=>{n.d(t,{severityLevelFromString:()=>s});const r=["fatal","error","warning","log","info","debug"];function s(e){return"warn"===e?"warning":r.includes(e)?e:"log"}},648230:(e,t,n)=>{n.d(t,{createStackParser:()=>i,getFunctionName:()=>u,stackParserFromStackParserOptions:()=>a});n(62534);const r=50,s=/\(error: (.*)\)/,o=/captureMessage|captureException/;function i(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const i=[],a=e.split("\n");for(let e=n;e<a.length;e++){const n=a[e];if(n.length>1024)continue;const o=s.test(n)?n.replace(s,"$1"):n;if(!o.match(/\S*Error: /)){for(const e of t){const t=e(o);if(t){i.push(t);break}}if(i.length>=r)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),o.test(t[t.length-1].function||"")&&(t.pop(),o.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,r).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(i)}}function a(e){return Array.isArray(e)?i(...e):e}const c="<anonymous>";function u(e){try{return e&&"function"==typeof e&&e.name||c}catch(e){return c}}},307806:(e,t,n)=>{n.d(t,{safeJoin:()=>i,snipLine:()=>o,stringMatchesSomePattern:()=>a,truncate:()=>s});var r=n(827699);function s(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function o(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let s=Math.max(t-60,0);s<5&&(s=0);let o=Math.min(s+140,r);return o>r-5&&(o=r),o===r&&(s=Math.max(o-140,0)),n=n.slice(s,o),s>0&&(n=`'{snip} ${n}`),o<r&&(n+=" {snip}"),n}function i(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const s=e[t];try{(0,r.isVueViewModel)(s)?n.push("[VueViewModel]"):n.push(String(s))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function a(e,t=[],n=!1){return t.some((t=>function(e,t,n=!1){return!!(0,r.isString)(e)&&((0,r.isRegExp)(t)?t.test(e):!!(0,r.isString)(t)&&(n?e===t:e.includes(t)))}(e,t,n)))}},159615:(e,t,n)=>{n.d(t,{isNativeFetch:()=>o,supportsFetch:()=>s,supportsNativeFetch:()=>i});const r=(0,n(664540).getGlobalObject)();function s(){if(!("fetch"in r))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function o(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function i(){if(!s())return!1;if(o(r.fetch))return!0;let e=!1;const t=r.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=o(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){}return e}},620051:(e,t,n)=>{n.d(t,{SyncPromise:()=>a,rejectedSyncPromise:()=>i,resolvedSyncPromise:()=>o});var r,s=n(827699);function o(e){return new a((t=>{t(e)}))}function i(e){return new a(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(r||(r={}));class a{then(e,t){return new a(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new a(((t,n)=>{let r,s;return this.then((t=>{s=!1,r=t,e&&e()}),(t=>{s=!0,r=t,e&&e()})).then((()=>{s?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(r.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(r.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===r.PENDING&&((0,s.isThenable)(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===r.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===r.RESOLVED&&e[1](this._value),this._state===r.REJECTED&&e[2](this._value),e[0]=!0)}))}}constructor(e){a.prototype.__init.call(this),a.prototype.__init2.call(this),a.prototype.__init3.call(this),a.prototype.__init4.call(this),this._state=r.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}}},788686:(e,t,n)=>{n.d(t,{dateTimestampInSeconds:()=>u,timestampInSeconds:()=>l});var r=n(465423),s=n(664540);e=n.hmd(e);const o=(0,s.getGlobalObject)(),i={nowSeconds:()=>Date.now()/1e3};const a=(0,r.isNodeEnv)()?function(){try{return(0,r.dynamicRequire)(e,"perf_hooks").performance}catch(e){return}}():function(){const{performance:e}=o;if(!e||!e.now)return;return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),c=void 0===a?i:{nowSeconds:()=>(a.timeOrigin+a.now())/1e3},u=i.nowSeconds.bind(i),l=c.nowSeconds.bind(c);let d;(()=>{const{performance:e}=o;if(!e||!e.now)return void(d="none");const t=36e5,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,a=e.timing&&e.timing.navigationStart,c="number"==typeof a?Math.abs(a+n-r):t;i||c<t?s<=c?(d="timeOrigin",e.timeOrigin):d="navigationStart":d="dateNow"})()},495846:(e,t,n)=>{function r(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function s(e){return e.split(/[\?#]/,1)[0]}n.d(t,{parseUrl:()=>r,stripUrlQueryAndFragment:()=>s})},692934:(e,t,n)=>{n.d(t,{supportsHistory:()=>s});const r=(0,n(664540).getGlobalObject)();function s(){const e=r.chrome,t=e&&e.app&&e.app.runtime,n="history"in r&&!!r.history.pushState&&!!r.history.replaceState;return!t&&n}},664540:(e,t,n)=>{function r(e){return e&&e.Math==Math?e:void 0}n.d(t,{GLOBAL_OBJ:()=>s,getGlobalObject:()=>o,getGlobalSingleton:()=>i});const s="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function o(){return s}function i(e,t,n){const r=n||s,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}},957994:(e,t,n)=>{n.d(t,{api:()=>r,login:()=>s,removeLoginCache:()=>o});const r=(e,t,n,r={})=>window.vkApi?window.vkApi.api(e,t,n,r):Promise.reject(new Error("[VKJS][API]: api didn't allowed. Use makeAuthAndApiGlobal function")),s=(e,t,n,r)=>window.vkApi?window.vkApi.login(e,t,n,r):Promise.reject(new Error("[VKJS]: login didn't allowed. Use makeAuthAndApiGlobal function")),o=(e,t)=>window.vkApi?window.vkApi.removeLoginCache(e,t):console.error("[VKJS]: removeLoginCache didn't allowed. Use makeAuthAndApiGlobal function")},238054:(e,t,n)=>{n.d(t,{API_ERROR_APP_AUTH:()=>a,API_ERROR_AUTH:()=>r,API_ERROR_AUTH_ANONYMOUS_TOKEN_HAS_EXPIRED:()=>u,API_ERROR_CAPTCHA:()=>i,API_ERROR_CUA_2_CONFIRMATION_REQUIRED:()=>l,API_ERROR_FLOOD:()=>o,API_ERROR_RATE_LIMIT:()=>c,API_ERROR_TOO_MANY:()=>s});const r=5,s=6,o=9,i=14,a=28,c=29,u=1114,l=11500},27919:(e,t,n)=>{n.d(t,{PendingTask:()=>r});class r{constructor(){this.get=()=>this.promise,this.resolve=e=>this.resolveHandler(e),this.reject=e=>this.rejectHandler(e),this.promise=new Promise(((e,t)=>{this.resolveHandler=e,this.rejectHandler=t}))}}},910981:(e,t,n)=>{n.d(t,{RequestTask:()=>s});var r=n(975499);class s{setAccessToken(e){this.bodyParams.access_token=e}setGrouping(e){this.grouping=e}setParams(e){this.methodParams=e}canGroupInExecute(){return!this.method.includes("execute")&&(!!this.apiConfig.accessToken&&(!this.methodParams.v&&(!1!==this.grouping&&(void 0===this.fetchOptions.method&&(void 0===this.fetchOptions.headers&&void 0===this.fetchOptions.signal)))))}toString(){const e={};return"object"==typeof this.methodParams&&Object.keys(this.methodParams).forEach((t=>{const n=this.methodParams[t];null!=n&&(e[t]="object"==typeof n?String(n):n)})),`API.${this.method}(${JSON.stringify(e)})`}constructor(e,t,n={},s={},o={}){this.resolve=()=>{},this.reject=()=>{},this.method=e,this.methodParams=t,this.fetchOptions=o,this.overrideApiConfig=s,this.apiConfig=Object.assign({},n,s),this.grouping=this.apiConfig.grouping,this.queryParams=(0,r.getApiQueryParams)(this.apiConfig),this.apiConfig.captureAsyncStacktrace&&(this.asyncBaseError=new Error("Async error"));const i=(0,r.getApiBodyParams)(this.apiConfig);this.bodyParams=Object.assign({},t,i),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}},502463:(e,t,n)=>{n.d(t,{Retries:()=>s});class r{constructor(e=1/0){this.tries=0,this.increment=()=>{this.tries++},this.get=()=>this.tries,this.isExceeded=()=>this.tries>=this.maxTries,this.maxTries=e}}class s{constructor(){this.retries=new Map,this.get=e=>this.retries.get(e),this.create=(e,t)=>(this.retries.set(e,new r(t)),this.retries.get(e)),this.delete=e=>{this.retries.delete(e)}}}},182879:(e,t,n)=>{n.d(t,{API_VERSION:()=>r});const r="5.131"},738150:(e,t,n)=>{n.d(t,{api:()=>v,apiBeacon:()=>k,setApiConfig:()=>b,upload:()=>O});var r=n(238054),s=n(27919),o=n(910981),i=n(502463),a=n(68123),c=n(341072),u=n(754589),l=n(626287),d=n(975499);let h={domain:"api.vk.com",maxRetries:10,grouping:!0};const p=new i.Retries,f=new i.Retries;let g=null,m=null,_=null;const S=[];function b(e){e=Object.assign({},h,e),h=e}function v(e,t,n={},r={}){const s=new o.RequestTask(e,t,h,n,r);return s.canGroupInExecute()?(S.push(s),_&&window.clearTimeout(_),_=window.setTimeout((()=>{y(S,n,r,s.apiConfig.enableForks)}),0)):(s.setGrouping(!1),w(s)),s.promise}async function y(e,t,n={},r){if(1===e.length){const t=e.shift();w(t),t.setGrouping(!1)}else{const s=[],i=[],a=[];for(let t=0;t<e.length;t+=1){if(!e[t].canGroupInExecute())continue;const n=e.splice(t,1)[0];if(t-=1,s.push(n),r&&0!==e.length&&(i.push(`'${n.method}': fork(${n})`),a.push(`wait(forks['${n.method}'])`)),s.length>=25)break}let c=`return [${s.join(",")}];`;if(r){const e=s[s.length-1];c=`\n        var forks = { ${i.join(",")} };\n\n        return [${a.join(",")},${e}];\n      `}const u=new o.RequestTask("execute",{code:c},h,t,n);u.setGrouping(!0),w(u);try{const e=await u.promise;let t=0;e.response.forEach(((n,r)=>{!1===n?((0,d.rejectWithApiError)(s[r],{type:l.APIErrorType.API_ERROR,error:e.execute_errors[t]}),t+=1):s[r].resolve(n)}))}catch(e){s.forEach((t=>(0,d.rejectWithApiError)(t,e)))}}e.length>0&&window.setTimeout((()=>y(e,t,n,r)),1e3)}function E(e){try{return window.localStorage?.getItem(e)}catch(e){return null}}async function w(e){const t=e.methodParams.captcha_sid,n=e.methodParams.session;(g&&g.sid!==t||m&&m.session!==n)&&(0,d.rejectWithApiError)(e,{type:l.APIErrorType.API_ERROR,error:{error_code:0,error_msg:"Ddos limit exceeded",error_text:"Ddos limit exceeded"}});const{domain:o,formattedExecuteResponse:i}=e.apiConfig,h=(0,a.makeParams)(e.queryParams),_=`https://${o}/method/${e.method}?${h}`,S=Object.assign({[c.CUA_STATE_PARAM]:(E(c.STORAGE_CUA_STATE)||"").trim()||void 0,[c.CUA_SESSION_PARAM]:n||void 0},e.methodParams,e.bodyParams),v=(0,d.getRequestHash)(_,e.methodParams),y=f.get(v)||f.create(v,e.apiConfig.maxRetries),O=p.get(v)||p.create(v,e.apiConfig.maxRetries);try{await(0,u.waitTimeExp)(y.get()||O.get());const o=await(0,a.corsRequest)(_,S,e.fetchOptions);if(e.apiConfig.challenge?.(o))return void setTimeout((()=>{(0,d.rejectWithApiError)(e,{type:l.APIErrorType.API_ERROR,error:{error_code:0,error_msg:"Unknown",error_text:"Unknown"}})}),1e4);const c=await o.json();if(void 0!==c.response)return f.delete(v),p.delete(v),g&&g.sid===t&&(g.task?.resolve(void 0),g=null,e.apiConfig.onCaptchaSuccess?.()),m&&m.session===n&&(m.task?.resolve(void 0),m=null,e.apiConfig.onCuaSuccess?.()),c.execute_errors?void(i||e.grouping?e.resolve({response:c.response||[],execute_errors:c.execute_errors}):e.resolve({...c.response,execute_errors:c.execute_errors})):void(e.grouping?e.resolve({response:c.response}):e.resolve(c.response));const h=c.error;if(!h)return void(0,d.rejectWithApiError)(e,{type:l.APIErrorType.API_ERROR,error:{error_code:0,error_msg:"Unknown",error_text:"Unknown"}});if(e.apiConfig.onCaptcha&&h?.error_code===r.API_ERROR_CAPTCHA)return void async function(e,t,n){if(!t.apiConfig.onCaptcha)return;const{captcha_sid:r,captcha_img:o,captcha_height:i,captcha_width:a,captcha_attempt:c,captcha_ts:u,is_refresh_enabled:d,is_sound_captcha_available:h,captcha_track:p,is_enabled_vkui:f,uiux_changes:m,redirect_uri:_}=e;if(g){if(g.sid!==n)return await g.task.get(),void await w(t);{const e=new s.PendingTask;e.get().then(g.task.resolve).catch(g.task.reject),g={sid:r,task:e}}}else g={sid:r,task:new s.PendingTask};try{const e=await t.apiConfig.onCaptcha({captcha_sid:r,captcha_img:o,captcha_height:i,captcha_width:a,is_refresh_enabled:d,is_sound_captcha_available:h,captcha_track:p,is_enabled_vkui:f,uiux_changes:m,redirect_uri:_}),n={captcha_ts:u,captcha_attempt:c},s=Object.assign({},t.methodParams,e,n);t.setParams(s),w(t)}catch(e){g=null,t.reject({type:l.APIErrorType.API_ERROR,error:e})}}(h,e,t);if(g&&g.sid===t&&(g.task?.resolve(void 0),g=null,e.apiConfig.onCaptchaSuccess?.()),e.apiConfig.onCua&&h?.error_code===r.API_ERROR_CUA_2_CONFIRMATION_REQUIRED)return void async function(e,t){if(!t.apiConfig.onCua)return;const{cua_session:n}=e;if(m){if(m.session!==n)return await m.task.get(),void await w(t);{const e=new s.PendingTask;e.get().then(m.task.resolve).catch(m.task.reject),m={session:n,task:e}}}else m={session:n,task:new s.PendingTask};try{const e=await t.apiConfig.onCua({cua_session:n}),r=Object.assign({},t.methodParams,e);t.setParams(r),w(t)}catch(e){m=null,t.reject({type:l.APIErrorType.CUA_ERROR,error:e})}}(h,e);if(m&&m.session===t&&(m.task?.resolve(void 0),m=null,e.apiConfig.onCuaSuccess?.()),0===e.apiConfig.maxRetries)return void(0,d.rejectWithApiError)(e,{type:l.APIErrorType.API_ERROR,error:h});if(y.isExceeded()||O.isExceeded())return f.delete(v),p.delete(v),void(0,d.rejectWithApiError)(e,{type:l.APIErrorType.API_ERROR,error:{error_code:h.error_code,error_msg:"Maximum of api retries exceeded",error_text:h.error_text}});if((0,d.isNotAllowedToMakeMoreRequests)(h.error_code))return O.increment(),f.delete(v),void w(e);p.delete(v);const E=!e.overrideApiConfig?.accessToken&&(h.error_code===r.API_ERROR_AUTH||h.error_code===r.API_ERROR_APP_AUTH||h.error_code===r.API_ERROR_AUTH_ANONYMOUS_TOKEN_HAS_EXPIRED);if(e.apiConfig.onTokenExpired&&E){const t=await e.apiConfig.onTokenExpired();return y.increment(),b({accessToken:t}),e.setAccessToken(t),void w(e)}f.delete(v),(0,d.rejectWithApiError)(e,{type:l.APIErrorType.API_ERROR,error:c.error})}catch(n){g&&g.sid===t&&(g=null,e.apiConfig.onCaptchaSuccess?.()),e.reject({type:l.APIErrorType.NETWORK_ERROR,error:n})}}async function O(e,t){return(await fetch(e,{method:"POST",body:t,mode:"cors"})).json()}function k(e,t,n){const r=new o.RequestTask(e,t,h,n),{domain:s}=r.apiConfig,i=(0,a.makeParams)(r.queryParams),c=`https://${s}/method/${r.method}?${i}`,u=Object.assign({},r.methodParams,r.bodyParams);return navigator.sendBeacon(c,(0,a.toFormData)(u))}},626287:(e,t,n)=>{n.d(t,{APIErrorType:()=>r});var r=function(e){return e.API_ERROR="api_error",e.NETWORK_ERROR="network_error",e.CUA_ERROR="cua_error",e}({})},975499:(e,t,n)=>{n.d(t,{getApiBodyParams:()=>a,getApiQueryParams:()=>i,getRequestHash:()=>c,isNotAllowedToMakeMoreRequests:()=>u,rejectWithApiError:()=>l});var r=n(238054),s=n(68123),o=n(182879);const i=e=>{const t={v:e.version||o.API_VERSION};return e.appId&&(t.client_id=e.appId),t},a=e=>({access_token:e.accessToken}),c=(e,t={})=>`${e}-${(0,s.makeParams)(Object.assign({},t))}`,u=e=>e===r.API_ERROR_RATE_LIMIT||e===r.API_ERROR_FLOOD||e===r.API_ERROR_TOO_MANY,l=(e,t)=>{if(!e.apiConfig.throwFullErrors)return void e.reject(t);const n=new Error("Api request failed",e.asyncBaseError?{cause:e.asyncBaseError}:void 0);Object.entries(t).forEach((([e,t])=>{n[e]=t})),e.reject(n)}},341072:(e,t,n)=>{n.d(t,{CUA_SESSION_PARAM:()=>o,CUA_STATE_PARAM:()=>s,STORAGE_CUA_STATE:()=>r});const r="cua_state",s="cua_state",o="cua_session"},68123:(e,t,n)=>{n.d(t,{corsRequest:()=>a,makeParams:()=>o,toFormData:()=>i});var r=n(341072);const s=[r.CUA_STATE_PARAM,r.CUA_SESSION_PARAM];function o(e){return Object.keys(e).map((t=>{let n=e[t];return t=encodeURIComponent(t||""),n=encodeURIComponent(void 0===n?"":n),s.includes(t)&&!n?null:`${t}=${n}`})).filter(Boolean).join("&")}function i(e){const t=new FormData;for(const n in e)e.hasOwnProperty(n)&&("string"==typeof e[n]?t.append(n,e[n]):t.append(n,JSON.stringify(e[n])));return t}function a(e,t,n={}){const r=o(t);return fetch(e,{method:"POST",body:r,mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},...n})}},754589:(e,t,n)=>{n.d(t,{ONE_MINUTE_MS:()=>r,getRandomWaitTime:()=>s,waitTimeExp:()=>o});const r=6e4,s=(e=500,t=1500)=>window.FORCED_API_WAIT_TIME?window.FORCED_API_WAIT_TIME:~~(Math.random()*(t-e+1)+e),o=e=>{return 0===e?Promise.resolve():(t=(e=>{if(0===e)return 0;if(window.FORCED_API_WAIT_TIME)return window.FORCED_API_WAIT_TIME;const t=Math.random(),n=100*Math.pow(2,e)/2;return n+n*t})(e),new Promise((e=>{setTimeout((()=>e()),t)})));var t}},586434:(e,t,n)=>{n.d(t,{getBeforeSend:()=>c});var r=n(766790),s=n(784511),o=n(44303),i=n(698851);let a=!1;function c(e){const t=(0,s.getGlobalConfig)().beforeSend??{};return function(n,s){if(!(0,i.isSentryEnabled)())return null;if(t.local&&(!(0,r.getGlobalObject)().location?.hostname||/^file:\/\/\/[A-Z]:(\\|\/)/.test(n.request?.url??"")))return null;if(t.unloading&&a)return null;if(t.extension&&n.exception){const e=n.exception.values?.some((e=>e.stacktrace?.frames?.some((e=>e.filename?.startsWith("chrome-extension://")))));if(e)return null}return n.tags&&!n.tags.module&&(n.tags.module=(0,o.getModule)()),t.custom&&e?e(n,s):n}}window.addEventListener("beforeunload",(()=>{a=!0,setTimeout((()=>{a=!1}),1e3)}))},663413:(e,t,n)=>{n.d(t,{getDenyUrls:()=>o});var r=n(784511);const s=[/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.js/i,/eatdifferent\.com\.woopra-ns\.com/i,/static\.woopra\.com\/js\/woopra\.js/i,/extensions\//i,/^chrome:\/\//i,/^chrome-extension:\/\//i,/127\.0\.0\.1:4001\/isrunning/i,/webappstoolbarba\.texthelp\.com\//i,/metrics\.itunes\.apple\.com\.edgesuite\.net\//i];function o(e){const t=(0,r.getGlobalConfig)().ignore?.urls??{},n=[];return t.recommended&&n.push(...s),t.custom&&e&&n.push(...e),t.emergency&&n.push(...t.emergency),n}},194179:(e,t,n)=>{n.d(t,{getDsn:()=>s});var r=n(784511);function s(){return(0,r.getGlobalConfig)().dsn}},739476:(e,t,n)=>{n.d(t,{getIgnoreErrors:()=>i});var r=n(784511);const s=[/^AbortError:/,"отменено","Failed to fetch","NetworkError when attempting to fetch resource.","Cancelled","Network request failed","NetworkError",/^Loading chunk(?:.*)failed/i,/^Loading CSS chunk(?:.*)failed/i],o=["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"];function i(e){const t=(0,r.getGlobalConfig)().ignore?.errors??{},n=[];return t.recommended&&n.push(...o),t.base&&n.push(...s),t.custom&&e&&n.push(...e),t.emergency&&n.push(...t.emergency),n}},790291:(e,t,n)=>{n.d(t,{getIntegrations:()=>u});var r=n(49043),s=n(879097),o=n(784511),i=n(121285),a=n(41275),c=n(959474);function u(e){const t=(0,o.getGlobalConfig)().integrations??{},n=[new c.NonErrorException,new r.ContextLines,new s.ExtraErrorData({depth:5}),new a.Deduplication,new i.AlreadySent];return e&&n.push(...e),n.filter((({name:e})=>Boolean(t[e])))}},456675:(e,t,n)=>{n.d(t,{getMaxBreadcrumbs:()=>o});var r=n(784511),s=n(44303);function o(){return((0,r.getGlobalConfig)().breadcrumbsLimit??1)*((0,s.isStagingOrTestDomain)()?2:1)}},698851:(e,t,n)=>{n.d(t,{isSentryEnabled:()=>s});var r=n(784511);function s(){return Boolean(((0,r.getGlobalConfig)().sentry??{}).enabled)}},694529:(e,t,n)=>{n.d(t,{getTags:()=>i});var r=n(784511),s=n(44303);const o="1.1.0";function i(e){const t=(0,r.getGlobalConfig)(),n=(0,s.getTestDomainName)(),i=(0,s.getPartABSlot)(),a=(0,s.getUser)();return{...n?{test_domain_name:n}:{},...i?{part_ab_slot:i}:{},is_logged_in:Boolean(a),config_version:`${o}#${t.version??0}`,...e}}},777333:(e,t,n)=>{n.d(t,{getTracerToken:()=>o});var r=n(784511),s=n(813219);function o(){const e=(0,r.getGlobalConfig)().tracer??{};return("testing"===(0,s.getTracerBuildName)()?e.token_testing:e.token_release)??"B5d6H7nKgmqPMHnLp5DE9pSWT6tlYEDmDtAU2Uo9ipa"}},540764:(e,t,n)=>{n.d(t,{init:()=>m});var r=n(279098),s=n(399373),o=n(194179),i=n(694529),a=n(456675),c=n(790291),u=n(663413),l=n(739476),d=n(586434),h=n(777333),p=n(44303),f=n(766790),g=n(813219);function m({tags:e,integrations:t,ignoreErrors:n,denyUrls:m,beforeSend:_,enableTracer:S}){const b=(0,p.getUser)(),v=(0,o.getDsn)();if(!v)throw new Error("The dsn option is required!");S&&function({tags:e}){const t=(0,p.getUser)(),n=(0,s.initTracerSdk)({versionName:(0,g.getTracerBuildName)(),versionCode:Number((0,f.getGlobalObject)().vk?.rv||0),appToken:(0,h.getTracerToken)()},s.initTracerLog,s.initTracerError,s.initTracerPerformance,s.initTracerErrorUploader,s.initTracerPerformanceUploader,s.initTracerSessionUploader);n.setErrorKeys({...(0,i.getTags)(e)}),t&&n.setUserId(t.id),n.setModule((0,g.getTracerModule)())}({tags:e}),(0,r.init)({dsn:v,environment:(0,p.getEnvironment)(),release:(0,p.getRelease)(),initialScope:{...b?{user:b}:{},tags:(0,i.getTags)(e)},sendClientReports:!1,autoSessionTracking:!1,maxBreadcrumbs:(0,a.getMaxBreadcrumbs)(),integrations:(0,c.getIntegrations)(t),ignoreErrors:(0,l.getIgnoreErrors)(n),denyUrls:(0,u.getDenyUrls)(m),beforeSend:(0,d.getBeforeSend)(_)})}},121285:(e,t,n)=>{n.d(t,{AlreadySent:()=>r});class r{setupOnce(){}getExceptions(e){return e?.exception?.values??[]}getExceptionFingerprint(e){const{type:t,value:n}=e,r=e.stacktrace?.frames?.map((({filename:e,lineno:t,colno:n})=>`${e}:${t}:${n}`)).join(" -> ");if(t&&n&&r)return`${t}: ${n} {${r}}`}processEvent(e){const t=this.getExceptions(e).map((e=>this.getExceptionFingerprint(e)));if(t.every(Boolean)){const e=t.join(", ");if(this.storage.has(e))return null;this.storage.add(e)}return e}constructor(){this.name=r.id,this.storage=new Set}}r.id="AlreadySent"},334018:(e,t,n)=>{n.d(t,{CurModuleDiffIssues:()=>r});class r{setupOnce(){}processEvent(e,{originalException:t}){if("CurModuleDiffError"===t?.name){const n=`${t?.curModuleBootstrap}|${t?.curModuleOnReady}`;e.fingerprint=[n]}return e}constructor(){this.name=r.id}}r.id="CurModuleDiffIssues"},41275:(e,t,n)=>{n.d(t,{Deduplication:()=>i});var r=n(766790);const s=[" is not defined","Can't find variable: "],o=/No value for lang key "([a-zA-Z0-9_]+)" is specified/;class i{setupOnce(){}getModule(e){return String(e.tags?.module??"unknown")}getTitleException(e){const t=e?.exception?.values??[];if(t.length)return t[t.length-1]}processReferenceError(e){const t=this.getModule(e),{type:n,value:r}=this.getTitleException(e)??{};if("ReferenceError"===n&&r)if(s.some((e=>r.includes(e)))){const o=s.reduce(((e,t)=>e.replace(t,"")),r).replace(/['"]/g,"");e.fingerprint=[n,t,o]}else{const[,s]=r.match(o)??[];s&&(e.fingerprint=[n,t,s])}return e}processInlineScriptError(e){const t=this.getModule(e),{url:n}=e.request??{},{type:s,value:o,stacktrace:i}=this.getTitleException(e)??{},a=(0,r.getGlobalObject)().location.href;if(s&&o&&n){const r=({in_app:e,abs_path:t,filename:r})=>!!e&&n!==(t||r);i?.frames?.some(r)||(e.fingerprint=[s,t,o],e.tags&&(e.tags.isInlineScriptOld=!0))}if(s&&o&&i){const n=e=>e.filename===a;i.frames?.every(n)&&(e.fingerprint=[s,t,o],e.tags&&(e.tags.isInlineScript=!0))}return e}processEvent(e){return e=this.processReferenceError(e),e=this.processInlineScriptError(e)}constructor(){this.name=i.id}}i.id="Deduplication"},765560:(e,t,n)=>{n.d(t,{InlineScriptTag:()=>r});class r{setupOnce(){}processEvent(e,t){const n=t.originalException?.__inline_tag;return n&&(e.fingerprint=[n],e.tags&&(e.tags.inlineTag=n)),e}constructor(){this.name=r.id}}r.id="InlineScriptTag"},856626:(e,t,n)=>{n.d(t,{KnownIssues:()=>r});class r{setupOnce(){}getIssueRatio(e,t){for(const{ratio:n=0,predicates:r}of this.options.getKnownIssues(e,t))if(r.every(Boolean))return n}processEvent(e,t){const n=this.getIssueRatio(e,t);return void 0===n?e:Math.random()>=n?null:(e?.tags&&(e.tags.known_issue=!0),e)}constructor(e){this.options=e,this.name=r.id}}r.id="KnownIssues"},355642:(e,t,n)=>{n.d(t,{LangLoadingIssues:()=>o});var r=n(241448),s=n(814104);class o{setupOnce(){}getTitleException(e){const t=e?.exception?.values??[];if(t.length)return t[t.length-1]}getLangErrorMeta(e){const{value:t}=e;if(!t)return;const[n,r]=t.split("\n");if(!n||!r)return;const[,s,o]=r.match(/^\((.*?):\s(.*?)\)$/)||[];return s&&o?{type:s,url:o}:void 0}castErrorTypeToKey(e){switch(e){case"error":return"LangLoadingError";case"timeout":return"LangLoadingTimeout";default:return"LangLoadingUnknown"}}processEvent(e){const t=this.getTitleException(e);if("LangLoadError"===t?.type){const e=this.getLangErrorMeta(t);if(e){const[t,n]=(0,s.separateSourceAndHash)(e.url),r=this.castErrorTypeToKey(e.type);this.webStats.sendWebStats("statlogEvents",{name:"static_loading_issues",value:1,keys:[r,t,n]})}return null}return e}constructor({webStatsParams:e}){this.name=o.id,this.webStats=new r.WebStats(e)}}o.id="LangLoadingIssues"},959474:(e,t,n)=>{n.d(t,{NonErrorException:()=>i});var r=n(414399),s=n(704143),o=n(626287);class i{setupOnce(){}getTitleException(e){const t=e?.exception?.values??[];if(t.length)return t[t.length-1]}isNonErrorException(e){const{value:t=""}=e??{};return["Object captured as exception with keys","Object captured as promise rejection with keys"].some((e=>t.startsWith(e)))}isApiErrorWithType(e){return Object.values(o.APIErrorType).includes(e.type)}processEvent(e,t){const n=this.getTitleException(e);if(!this.isNonErrorException(n))return e;const o=t.originalException;if(this.isApiErrorWithType(o)){const{error:t}=o;Object.assign(n,{type:"ApiError",value:t?.error_msg??"An error occurred during the API request"}),t instanceof Error&&e.exception?.values?.push((0,r.exceptionFromError)(s.defaultStackParser,t))}return e}constructor(){this.name=i.id}}i.id="NonErrorException"},312828:(e,t,n)=>{n.d(t,{StaticLoadingIssues:()=>i});var r=n(241448),s=n(814104);const o=[];class i{setupOnce(){}getTitleException(e){const t=e?.exception?.values??[];if(t.length)return t[t.length-1]}isWebpackRequireError(e){const{stacktrace:t}=this.getTitleException(e)??{};return!!t?.frames&&"__webpack_require__"===t.frames[t?.frames.length-1].function}getErrorFilename(e){const{stacktrace:t}=this.getTitleException(e)??{};return t?.frames?.[t?.frames?.length-1].filename}processEvent(e){if(this.isWebpackRequireError(e)){const t=this.getErrorFilename(e);if(t){const[e,n]=(0,s.separateSourceAndHash)(t);this.webStats.sendWebStats("statlogEvents",{name:"static_loading_issues",value:1,keys:["WebpackModuleError",e,n]}),o.push(t)}return null}return o.length&&"ReferenceError"===this.getTitleException(e)?.type&&(e.tags&&(e.tags.static_desync=!0),e.extra={...e.extra,webpackModuleErrorCalls:o}),e}constructor({webStatsParams:e}){this.name=i.id,this.webStats=new r.WebStats(e)}}i.id="StaticLoadingIssues"},44303:(e,t,n)=>{n.d(t,{getEnvironment:()=>o,getModule:()=>c,getPartABSlot:()=>u,getRelease:()=>a,getTestDomainName:()=>i,getUser:()=>l,isStagingOrTestDomain:()=>s});var r=n(766790);function s(){return(0,r.getGlobalObject)().vk?.statsMeta?.st||!1}function o(){return(0,r.getGlobalObject)().vk?.statsMeta?.st?"staging":"production"}function i(){}function a(){o();return(0,r.getGlobalObject)().vk?.rv}function c(){return(0,r.getGlobalObject)().cur?.module||"unknown"}function u(){return(0,r.getGlobalObject)().vk?.pabs}function l(){const e=(0,r.getGlobalObject)().vk?.id;if(e)return{id:String(e)}}},784511:(e,t,n)=>{n.d(t,{getGlobalConfig:()=>s});var r=n(766790);function s(){return(0,r.getGlobalObject)().vk?.cfg?.error_monitoring_config??{}}},766790:(e,t,n)=>{function r(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}}n.d(t,{getGlobalObject:()=>r})},814104:(e,t,n)=>{function r(e){let t="",n="";try{const r=new URL(e);t=r.pathname,n=r.host}catch{return[e,void 0]}const[,r,s,o]=t.match(/^(.*?)\.(.*?)\.(js|css)/)||[];return r&&s?[`${r}.${o}`,n]:[t,n]}n.d(t,{separateSourceAndHash:()=>r})},813219:(e,t,n)=>{n.d(t,{getTracerBuildName:()=>s,getTracerModule:()=>o});var r=n(44303);function s(){return"release"}function o(){return(0,r.getEnvironment)()}},770176:(e,t,n)=>{n.d(t,{browser:()=>s});const r=navigator.userAgent.toLowerCase(),s={version:(r.match(/.+(?:me|ox|on|rv|it|era|opr|ie|edge)[\/: ]([\d.]+)/)||[0,"0"])[1],opera:/opera/i.test(r)||/opr/i.test(r),vivaldi:/vivaldi/i.test(r),amigo:/amigo.*mrchrome soc/i.test(r),msie:/msie/i.test(r)&&!/opera/i.test(r)||/trident\//i.test(r)||/edge/i.test(r),msie6:/msie 6/i.test(r)&&!/opera/i.test(r),msie7:/msie 7/i.test(r)&&!/opera/i.test(r),msie8:/msie 8/i.test(r)&&!/opera/i.test(r),msie9:/msie 9/i.test(r)&&!/opera/i.test(r),msie_edge:/edge/i.test(r)&&!/opera/i.test(r),mozilla:/firefox/i.test(r),yabrowser:/yabrowser/i.test(r),whale:/whale/i.test(r),chrome:/chrome/i.test(r)&&!/edge/i.test(r),safari:!/chrome/i.test(r)&&/webkit|safari|khtml/i.test(r),iphone:/iphone/i.test(r),ipod:/ipod/i.test(r),iphone4:/iphone.*OS 4/i.test(r),ipod4:/ipod.*OS 4/i.test(r),ipad:/ipad/i.test(r),ios:/.+(ipod|ipad|iphone.*os)/i.test(r),android:/android/i.test(r),bada:/bada/i.test(r),mobile:/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(r),msie_mobile:/iemobile/i.test(r),safari_mobile:/iphone|ipod|ipad/i.test(r),opera_mobile:/opera mini|opera mobi/i.test(r),opera_mini:/opera mini/i.test(r),mac:/mac/i.test(r),windows7:/windows nt 6.1/i.test(r),windowsVista:/windows nt 6.0/i.test(r),windowsXp:/windows nt (5.2|5.1)/i.test(r),search_bot:/(yandex|google|stackrambler|aport|slurp|msnbot|bingbot|twitterbot|ia_archiver|facebookexternalhit)/i.test(r),smart_tv:/smart-tv|smarttv/i.test(r)}},241448:(e,t,n)=>{n.d(t,{WebStats:()=>u});var r=n(887184),s=n(968344),o=n(930497),i=n(268443),a=n(705082),c=n(670315);class u{sendWebStats(e,t){return this.api.sendWebStats(e,t)}writeAndSendWebStats(e,t,n,r){return this.api.writeAndSendWebStats(e,t,n,r)}saveStatlogEvents(e){return this.api.saveStatlogEvents(e)}saveProductionStats(e,t){return this.api.saveProductionStats(e,t)}saveNetworkStats(e){return this.api.saveNetworkStats(e)}saveStoryViewBaseStats(e){return this.api.saveStoryViewBaseStats(e)}saveStoryViewStats(e){return this.api.saveStoryViewStats(e)}saveWebPerfStats(e){return this.api.saveWebPerfStats(e)}saveBenchmarkMainStats(e){return this.api.saveBenchmarkMainStats(e)}saveVkResStats(e){return this.api.saveVkResStats(e)}constructor({options:e,statsMeta:t,hostName:n,statlogsValueEvent:u,getBrowserFingerprint:l,sessionStorage:d,localStorage:h,smallerChunks:p,apiParams:f,createUrl:g}){this.saveCustomStats=e=>this.api.saveCustomStats(e),this.debug=new s.Debug({options:e}),this.webStatsStorage=new o.WebStatsStorage({statsMeta:t,debug:this.debug,sessionStorage:d,localStorage:h}),this.maxBodyChunkSize=p?r.MAX_BODY_SIZE_SMALL_CHUNK:r.MAX_BODY_SIZE_NORMAL_CHUNK,this.batchers=new i.Batchers({statsMeta:t,statlogsValueEvent:u,webStatsStorage:this.webStatsStorage,maxBodyChunkSize:this.maxBodyChunkSize}),this.batchedWebStatsTransport=new a.BatchedWebStatsTransport({options:e,statsMeta:t,hostName:n,debug:this.debug,statlogsValueEvent:u,getBrowserFingerprint:l,batchers:this.batchers,webStatsStorage:this.webStatsStorage,maxBodyChunkSize:this.maxBodyChunkSize,apiParams:f,createUrl:g}),this.api=new c.Api({webStatsStorage:this.webStatsStorage,debug:this.debug,webStatsBatchedTransport:this.batchedWebStatsTransport,options:e,localStorage:h})}}},887184:(e,t,n)=>{n.d(t,{AVAILABLE_STATS:()=>f,BOOST_COOLDOWN_MS:()=>c,BOOST_DEBOUNCE_LIMIT_MS:()=>a,BOOST_DEBOUNCE_MS:()=>i,BOOST_DURATION:()=>l,COOLDOWN_MS:()=>o,DEBOUNCE_LIMIT_MS:()=>s,DEBOUNCE_MS:()=>r,MAX_BODY_SIZE_NORMAL_CHUNK:()=>h,MAX_BODY_SIZE_SMALL_CHUNK:()=>d,PROCESSING_LIMIT:()=>u,Stats:()=>p});const r=1e4,s=2e4,o=2e4,i=1e3,a=2e3,c=5e3,u=500,l=3e4,d=.5*Math.pow(10,6),h=1.8*Math.pow(10,6),p={BenchmarkMainStats:"benchmarkMainStats",CustomStats:"customStats",NetworkStats:"networkStats",ProductionStats:"productionStats",StatlogEvents:"statlogEvents",StoryViewStats:"storyViewStats",WebPerfStats:"webPerfStats",VkResStats:"vkResStats"},f=[p.BenchmarkMainStats,p.CustomStats,p.NetworkStats,p.ProductionStats,p.StatlogEvents,p.StoryViewStats,p.WebPerfStats,p.VkResStats]},670315:(e,t,n)=>{n.d(t,{Api:()=>i});var r=n(510794),s=n(216520),o=n(887184);class i{pushToWebStats(e,t){const n=this.webStatsStorage.getWebStatsStringValue(e);return this.webStatsStorage.getWebStatDataLs().replace(`"${e}":${n}`,`"${e}":${n.replace(/]$/,`${"[]"===n?"":","}${JSON.stringify(t)}]`)}`)}transformStatlogEvent({name:e,value:t,keys:n=[]}){const r=[Math.round(Number(Date.now())/1e3),e,t,...n];return this.options?.isDebuggerMode&&console.log("Data was transformed!"),r}sendWebStats(e,t){e===o.Stats.StatlogEvents&&(t=this.transformStatlogEvent(t));const n=(0,s.getEmptyStatsData)();n[e]=[t];const r=JSON.stringify(n);return new Promise(((e,n)=>{this.webStatsBatchedTransport.sendStat(r,(()=>e()),n),this.debug.logWebStatsEvent("sendWebStatsEvent",t)}))}writeAndSendWebStats(e,t,n,r){const s=this.pushToWebStats(t,n);this.webStatsStorage.writeLocked((()=>{this.localStorage.setItem(this.webStatsStorage.lsDataKey,s),this.webStatsBatchedTransport.saveAndSendStats(s,r)})),this.debug.logWebStatsEvent(e,n)}saveStatlogEvents(e){const t=this.transformStatlogEvent(e);return this.writeAndSendWebStats("saveStatlogEvents",o.Stats.StatlogEvents,t)}saveNetworkStats(e){return this.writeAndSendWebStats("saveNetworkStats",o.Stats.NetworkStats,e)}saveStoryViewBaseStats(e){return this.writeAndSendWebStats("saveStoryViewStats",o.Stats.StoryViewStats,e)}saveStoryViewStats(e){return this.saveStoryViewBaseStats(e)}saveWebPerfStats(e){return this.writeAndSendWebStats("saveWebPerfStats",o.Stats.WebPerfStats,e)}saveBenchmarkMainStats(e){return this.writeAndSendWebStats("saveBenchmarkMainStats",o.Stats.BenchmarkMainStats,e)}saveVkResStats(e){return this.writeAndSendWebStats("saveVkResStats",o.Stats.VkResStats,[...e.details])}constructor({webStatsStorage:e,debug:t,options:n,localStorage:s,webStatsBatchedTransport:i}){this.saveProductionStats=(e,t)=>this.writeAndSendWebStats("saveProductionStats",o.Stats.ProductionStats,e,t),this.saveCustomStats=e=>this.writeAndSendWebStats("saveCustomStats",o.Stats.CustomStats,e),this.webStatsStorage=e,this.debug=t,this.options=n,this.localStorage=s||r.localStorage,this.webStatsBatchedTransport=i}}},705082:(e,t,n)=>{n.d(t,{BatchedWebStatsTransport:()=>i});var r=n(957994),s=n(216520),o=n(887184);class i{isBatchBoostRequired(){const e=this.statsMeta.started||Date.now();return Date.now()-e<=o.BOOST_DURATION}debounceMs(){return this.isBatchBoostRequired()?o.BOOST_DEBOUNCE_MS:o.DEBOUNCE_MS}limitMs(){return this.isBatchBoostRequired()?o.BOOST_DEBOUNCE_LIMIT_MS:o.DEBOUNCE_LIMIT_MS}cooldownMs(){return this.isBatchBoostRequired()?o.BOOST_COOLDOWN_MS:o.COOLDOWN_MS}penaltyMs(){return this.debounceMs()*this.sendAttempt**.5}onCooldown(){return!(Date.now()-this.webStatsStorage.getLastSendTime()>this.cooldownMs()+this.penaltyMs())}tillCooldownMs(){return Math.max(0,this.webStatsStorage.getLastSendTime()+this.cooldownMs()-Date.now()+this.penaltyMs())}tillLimitMs(){return Math.max(0,this.webStatsStorage.getLastSendTime()+this.limitMs()-Date.now())}checkWebStatsLater(){this.isSendingWebStats||this.timeoutID||(this.timeoutID=(0,s.getWindow)()?.setTimeout((()=>{const e=this.webStatsStorage.getWebStatDataLs();this.timeoutID=void 0,e.length>s.emptyStatsDataLs.length&&this.saveAndSendStats(e)}),Math.max(Math.min(this.tillLimitMs(),this.debounceMs()),this.tillCooldownMs())))}sendStatsWithBatching(e){const t=e.length>this.maxBodyChunkSize;let n=t?this.batchers.getMaximumWebStats(e):e,r=!1;if(!n)return this.isSendingWebStats=!1,this.webStatsStorage.clearLsData();n=(0,s.appendStatsMeta)(++this.sendAttempt,n,this.statsMeta),this.sendStats(n,(o=>{const i=Date.now();this.isSendingWebStats=!1,o<500&&(t&&200===o?Object.keys((0,s.getEmptyStatsData)()).forEach((e=>this.webStatsStorage.pullFromWebStats(e,n))):this.webStatsStorage.clearLsData(),this.sendAttempt=0,r=!0),(t||400===o)&&(0,s.logProcessingTime)(Date.now()-i,`${t?"prune":"clean"}${400===o?"-fail":""}`,this.statsMeta,this.statlogsValueEvent,`${e.length>>>20}M ${n.length>>>20}M`),this.checkWebStatsLater()}),(()=>{this.isSendingWebStats=!1,!r&&this.webStatsStorage.clearLsData()}))}idlizeCall(e,t){const n=t=>setTimeout((()=>e()),t);return t?.force?n(0):(0,s.getWindow)()?.requestIdleCallback?window.requestIdleCallback((()=>n(this.debounceMs())),{timeout:this.debounceMs()/2}):n(this.debounceMs())}sendStats(e,t,n){const r=new URLSearchParams,o=this.getBrowserFingerprint();o&&r.set("device_id",o);const i=r.toString(),a=this.createUrl(this.statsMeta,i),c=(e,r)=>{if(r)return void this.sendApi(e,t,n,r);const s=new XMLHttpRequest;s.withCredentials=a.includes(`tau.${this.hostName}`),s.onreadystatechange=()=>{s.readyState===XMLHttpRequest.DONE&&t(s.status)},s.onerror=n,s.open("POST",a,!0),s.setRequestHeader("Content-Type","application/json;charset=UTF-8"),s.send(e)};(0,s.getApiConfig)(this.apiParams).then((n=>{(0,s.canSendBeacon)(this.hostName,this.statsMeta)?(0,s.sendBeacon)(a,e,n).then((()=>t(200))).catch((()=>c(e,n))):c(e,n)}))}sendStat(e,t,n){e=(0,s.appendStatsMeta)(1,e,this.statsMeta),this.sendStats(e,t,n)}saveAndSendStats(e,t){return this.options?.isNewQueue?this.saveAndSendStatsNew(e,t):this.saveAndSendStatsOld(e,t)}saveAndSendStatsOld(e,t){const n=e.length>=this.maxBodyChunkSize,r=t?.force||n;if(e.length<=s.emptyStatsDataLs.length)this.debug.logWebStatsEvent("WebStats empty data.","");else{if(!this.isSendingWebStats)return r||this.timeoutID||!this.onCooldown()?(this.isSendingWebStats=!0,this.idlizeCall((()=>{const e=this.webStatsStorage.getWebStatDataLs();if(e.length>s.emptyStatsDataLs.length&&(r||!this.onCooldown()))return this.webStatsStorage.setLastSendTime(),this.sendStatsWithBatching(e);clearTimeout(this.timeoutID),this.isSendingWebStats=!1,this.timeoutID=void 0}),{...t,force:r})):(this.debug.logWebStatsEvent("WebStats delayed.",this.timeoutID),this.checkWebStatsLater());this.debug.logWebStatsEvent("WebStats sending.",this.isSendingWebStats)}}saveAndSendStatsNew(e,t){const n=e.length>=this.maxBodyChunkSize,r=t?.force||n;if(e.length<=s.emptyStatsDataLs.length)this.debug.logWebStatsEvent("WebStats empty data.","");else{if(!this.isSendingWebStats)return!r&&this.onCooldown()?(this.checkWebStatsLater(),void this.debug.logWebStatsEvent("WebStats delayed.",this.timeoutID)):(this.isSendingWebStats=!0,this.idlizeCall((()=>{const e=this.webStatsStorage.getWebStatDataLs();if(e.length>s.emptyStatsDataLs.length&&(!this.onCooldown()||r))return clearTimeout(this.timeoutID),this.timeoutID=void 0,this.webStatsStorage.setLastSendTime(),this.sendStatsWithBatching(e);this.isSendingWebStats=!1}),{...t,force:r}));this.debug.logWebStatsEvent("WebStats sending.",this.isSendingWebStats)}}constructor({options:e,statsMeta:t,hostName:n,debug:o,statlogsValueEvent:i,getBrowserFingerprint:a,batchers:c,webStatsStorage:u,maxBodyChunkSize:l,apiParams:d,createUrl:h}){this.sendAttempt=0,this.isSendingWebStats=!1,this.sendApi=async(e,t,n,o)=>{try{const n=JSON.stringify((0,s.transformEventsToArray)(e));await(0,r.api)(o.method,{events:n,...o.body},o.overrideApiConfig),t(200)}catch{n()}},this.options=e,this.statsMeta=t,this.hostName=n,this.debug=o,this.statlogsValueEvent=i,this.getBrowserFingerprint=a,this.batchers=c,this.webStatsStorage=u,this.maxBodyChunkSize=l,this.apiParams=d,this.createUrl=h}}},268443:(e,t,n)=>{n.d(t,{Batchers:()=>o});var r=n(887184),s=n(216520);class o{batchStaleWebStats(e,t){const[n,r]=t,o=`{"${n}":[${JSON.parse(r).reduce(((t,n,r)=>t.length<this.maxBodyChunkSize-e.length?`${t}${0===r?"":","}${JSON.stringify(n)}`:t),"")}]}`;return"{}"===e?o:(0,s.concatJSONS)(e,o)||e}getMaximumWebStats(e){const t=Date.now(),n=e=>`{${e?.map((([e,t])=>`"${e}":${t}`)).join(",")}}`,[o,i]=Object.keys((0,s.getEmptyStatsData)()).reduce(((t,n)=>{const r=this.webStatsStorage.getWebStatsStringValue(n,e);return"[]"===r?t:[...t,[n,r]]}),[]).sort((([,e],[,t])=>t.length-e.length)).reduce((([e,t],[r,s])=>{const o=[[r,s]];return s.length+n(e).length<this.maxBodyChunkSize?[e.concat(o),t]:[e,t.concat(o)]}),[[],[]]),a=n(o);if((0,s.logProcessingTime)(Date.now()-t,"chunk",this.statsMeta,this.statlogsValueEvent),Date.now()-t<r.PROCESSING_LIMIT&&i[0]&&a.length<.1*this.maxBodyChunkSize){const e=Date.now();try{const t=this.batchStaleWebStats(a,i.reverse()[0]);return(0,s.logProcessingTime)(Date.now()-e,"batch",this.statsMeta,this.statlogsValueEvent),t}catch(t){return(0,s.logProcessingTime)(Date.now()-e,"batch-fail",this.statsMeta,this.statlogsValueEvent),""}}return a}constructor({statsMeta:e,statlogsValueEvent:t,webStatsStorage:n,maxBodyChunkSize:r}){this.statsMeta=e,this.statlogsValueEvent=t,this.webStatsStorage=n,this.maxBodyChunkSize=r}}},968344:(e,t,n)=>{n.d(t,{Debug:()=>r});class r{logWebStatsEvent(e,t){this.options?.isDebuggerMode&&console.log(`[new transport debug] ${e}`,t)}constructor({options:e}){this.options=e}}},930497:(e,t,n)=>{n.d(t,{WebStatsStorage:()=>o});var r=n(510794),s=n(216520);class o{writeLocked(e){if("locked"!==this.sessionStorage.getItem(this.lockName)){this.debug.logWebStatsEvent("writeLocked","lock"),this.sessionStorage.setItem(this.lockName,"locked");try{e()}catch(e){}return this.debug.logWebStatsEvent("writeLocked","free"),void this.sessionStorage.setItem(this.lockName,"free")}setTimeout((()=>this.writeLocked(e)),100)}getWebStatDataLs(){return this.localStorage.getItem(this.lsDataKey)||s.emptyStatsDataLs}serializeDataToLs(e){return this.localStorage.setItem(this.lsDataKey,JSON.stringify(e))}getWebStatsStringValue(e,t=this.getWebStatDataLs()){const n=Object.keys((0,s.getEmptyStatsData)()).filter((t=>t!==e)).join("|"),r=t?.match(new RegExp(`"${e}":(\\[.*?\\])(?:,"(${n})":\\[|}$)`))?.[1]||"";return(0,s.isArrayLike)(r)?r:"[]"}fetchDataFromLs(){let e,t=!0;try{const n=this.getWebStatDataLs();if(!n)throw new Error("empty data");e=(0,s.getEmptyStatsData)();const r=JSON.parse(n);Object.keys(e).forEach((n=>{Array.isArray(r[n])&&(t=!1,e[n]=r[n])}))}catch(t){e=(0,s.getEmptyStatsData)()}return{webStatsData:e,isEmpty:t}}clearLsData(e){e&&this.debug.logWebStatsEvent("WebStats cleared. "+(e?"Reason: LS is broken.":""),e),this.writeLocked((()=>this.localStorage.setItem(this.lsDataKey,"")))}setLastSendTime(e=Number(new Date)){this.sessionStorage.setItem(this.lsMetaKey,e.toString())}getLastSendTime(){return parseInt(`${this.sessionStorage.getItem(this.lsMetaKey)||0}`)}getWebStatsItemsCount(e){return Object.values(e).reduce(((e,t)=>e+=t.length),0)}pullFromWebStats(e,t){const n=this.getWebStatsStringValue(e,t);if("[]"!==n){const e=this.getWebStatDataLs().replace(n.slice(1,-1),"").replace(/\[\,/,"[");this.writeLocked((()=>this.localStorage.setItem(this.lsDataKey,e)))}}constructor({statsMeta:e,debug:t,localStorage:n,sessionStorage:s}){this.lsDataKey=`XHR_STATS_TRANSPORT_DATA_${e.platform}`,this.lsMetaKey=`XHR_STATS_TRANSPORT_META_${e.platform}`,this.lockName=`XHR_STATS_TRANSPORT_DATA_LOCK_${e.platform}`,this.debug=t,this.localStorage=n||r.localStorage,this.sessionStorage=s||r.sessionStorage}}},510794:(e,t,n)=>{n.d(t,{CustomStorage:()=>s,localStorage:()=>d,sessionStorage:()=>f});var r=n(216520);class s{setItem(e,t){this.data[e]=String(t)}getItem(e){return this.data.hasOwnProperty(e)?this.data[e]:null}removeItem(e){delete this.data[e]}clear(){this.data={}}get length(){return Object.keys(this.data).length}key(e){return Object.keys(this.data)[e]}constructor(){this.data={},this.keys=()=>Object.keys(this.data)}}const o="vk-ls-dummy",i=Math.random().toString(),a={localStorage:null,sessionStorage:null};function c(e){if(null===a[e])try{const t=(0,r.getWindow)()?.[e];t?.setItem(o,i),a[e]=i===t?.getItem(o),t?.removeItem(o)}catch(t){a[e]=!1}return a[e]}let u;function l(){return u||(u=c("localStorage")?window.localStorage:new s,u)}const d={setItem:(e,t)=>l().setItem(e,t),getItem:e=>l().getItem(e),removeItem:e=>l().removeItem(e),clear:()=>l().clear(),get length(){return l().length},key:e=>l().key(e),keys(){const e=l();return e instanceof s?e.keys():Object.keys(e)},getPrefixedKeys:e=>d.keys().filter((t=>t.startsWith(e)))};let h;function p(){return h||(h=c("sessionStorage")?window.sessionStorage:new s,h)}const f={setItem:(e,t)=>p().setItem(e,t),getItem:e=>p().getItem(e),removeItem:e=>p().removeItem(e),clear:()=>p().clear(),get length(){return p().length},key:e=>p().key(e),keys(){const e=p();return e instanceof s?e.keys():Object.keys(e)},getPrefixedKeys:e=>f.keys().filter((t=>t.startsWith(e)))}},216520:(e,t,n)=>{n.d(t,{appendStatsMeta:()=>l,canSendBeacon:()=>d,concatJSONS:()=>a,emptyStatsDataLs:()=>f,getApiConfig:()=>m,getEmptyStatsData:()=>p,getWindow:()=>g,isArrayLike:()=>i,logProcessingTime:()=>h,sendBeacon:()=>u,transformEventsToArray:()=>c});var r=n(738150),s=n(887184);const o=e=>e.startsWith("{")&&e.endsWith("}"),i=e=>e.startsWith("[")&&e.endsWith("]"),a=(e,t)=>[e,t].every(o)?`${e.slice(0,-1)},${t.substring(1)}`:"{}",c=e=>{try{const t=JSON.parse(e),n=Object.entries(t),r=[];return n.forEach((e=>{const[t,n]=e;s.AVAILABLE_STATS.includes(t)&&Array.isArray(n)&&r.push(...n)})),r}catch{return[]}};function u(e,t,n){try{if(!(n?(0,r.apiBeacon)(n.method,{events:c(t),...n.body},n.overrideApiConfig):navigator.sendBeacon(e,t)))return Promise.reject(new Error("Beacon not sent"))}catch(e){return Promise.reject(new Error("Beacon fail"))}return Promise.resolve()}const l=(e,t,n)=>{const{userId:r,st:s,platform:i,time:c,hash:u,itemId:l,itemOwnerId:d,itemType:h}=n;return a(JSON.stringify({id:r,st:s,platform:i,attempt:e,signTime:c,sign:u,...l&&{itemId:l},...h&&{itemType:h},...d&&{itemOwnerId:d}}),o(t)?t:"{}")};function d(e,t){return"sendBeacon"in navigator&&!t.wsTransport.includes(`tau.${e}`)}function h(e,t,n,r,s){r?.("web_stats_batching_time",e,n.platform,t,s)}const p=()=>({statlogEvents:[],productionStats:[],storyViewStats:[],networkStats:[],customStats:[],webPerfStats:[],benchmarkMainStats:[],vkResStats:[]}),f=JSON.stringify(p()),g=()=>"undefined"!=typeof window?window:void 0,m=async e=>{if(!e)return;const{additionalBody:t,method:n,domain:r,version:s,appId:o,getToken:i}=e;return{body:t,overrideApiConfig:{domain:r,version:s,appId:o,accessToken:await i()},method:n}}},399373:(e,t,n)=>{n.d(t,{getTracerModules:()=>le,initTracerError:()=>P,initTracerErrorUploader:()=>J,initTracerLog:()=>d,initTracerPerformance:()=>oe,initTracerPerformanceUploader:()=>ae,initTracerSdk:()=>de,initTracerSessionUploader:()=>ue});class r{constructor(){this.log=[],this.logBytes=[],this.logIndex=0,this.logTotalBytes=0,this.logMaxBytes=64e3}destroy(){this.clear()}add(e){const t=`#${this.logIndex} ${Date.now()} | ${e}\n`,n=new Blob([t]).size;if(this.logTotalBytes+=n,this.log.push(t),this.logBytes.push(n),this.logIndex++,this.logTotalBytes>this.logMaxBytes){const e=this.logTotalBytes-this.logMaxBytes;let t=0;const n=this.logBytes.length-1;for(let r=0;r<n;r++)if(t+=this.logBytes[r],t>=e||r==n-1){this.logBytes=this.logBytes.slice(r+1),this.log=this.log.slice(r+1),this.logTotalBytes-=t;break}}}getData(){return this.log}clear(){this.log=[],this.logBytes=[],this.logTotalBytes=0}}function s(){if("undefined"==typeof window)return{data:{},modules:{},version:"2.0.22"};const e="TracerSDK";return window[e]||(window[e]={data:{},modules:{},version:"2.0.22"}),window[e]}function o(e){const t=s().data;return t[e]||(t[e]={}),t[e]}function i(e,t){return o(e)[t]}class a{constructor(e){this.dataKey=e}getSdkData(){return i(this.dataKey,0)}log(e){const t=this.getSdkData();t&&t.add(e)}clearLog(){const e=this.getSdkData();e&&e.clear()}}function c(e,t,n){const r=o(e);return r[t]||(r[t]=n()),r[t]}function u(e){const t=s().modules;return t[e]||(t[e]={}),t[e]}function l(e,t,n){const r=u(e);return r[t]||(r[t]=n(e)),r[t]}function d(){const e="main";return c(e,0,(function(){return new r})),l(e,"log",(function(){return new a(e)}))}class h{constructor(e,t){this.crashesCount=0,this.errors=[],this.keys={},this.dataKey=e,this.filterError=t.filterError}withCrashes(){return Boolean(this.crashesCount)}destroy(){this.errors=[],this.keys={},this.userId=void 0,this.module=void 0}add(e){if("CRASH"===e.type){if(this.filterError){if(!1===this.filterError(e.error))return}this.crashesCount++,this.errors.push(e);const t=i(this.dataKey,7),n=i(this.dataKey,3);t&&t.setCrashed(),n&&n.forceUpload()}else this.errors.push(e)}getData(){return this.errors}dequeue(e=1){return this.errors.splice(0,e)}setKey(e,t){this.keys[e]=t}setKeys(e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.keys[t]=e[t])}removeKey(e){delete this.keys[e]}removeKeys(e){for(let t=0,n=e.length;t<n;t++)this.removeKey(e[t])}getKeys(){return this.keys}}function p(e,t,n,r,s){const o=e+": "+t+"\n";if(0===(n=n||"").indexOf(o)&&(n=n.slice(o.length)),r||s){const e=n.split("\n"),t=r||0,o=s?e.length-s:e.length;n=e.slice(t,o).join("\n")}return n}const f="tracerCurrentStack";let g;function m(){return g||(g=new Error(f)),g}function _(){return s().currentAsyncScope}function S(e,t=[],n){let r="("+e.name+")";e.sameScopeCount>1&&(r+=" x"+e.sameScopeCount);const s=!e.parent;if(t.push(r),n){const n=m();t.push(p(n.name,n.message,e.stack,3,s?0:1))}else t.push(e.stack);return e.parent&&S(e.parent,t,n),t.join("\n")}function b(e){if(e.tracerScope){const t=function(){const e=i("main",4);return!!e&&e.disableStackCleanup}();return S(e.tracerScope,[p(e.name,e.message,e.stack,0,t?0:1)],!t)}return p(e.name,e.message,e.stack)}const v={};class y{constructor(){this.data={}}getItem(e){return this.data[e]||null}removeItem(e){this.data[e]=void 0}setItem(e,t){this.data[e]=t}}let E;function w(){return E||(E=function(){let e;try{if("undefined"==typeof window)return new y;e=window.localStorage;const t="__ls_tracer_test";return e.setItem(t,t),e.getItem(t)!==t?new y:(e.removeItem(t),e)}catch(e){return new y}}()),E}function O(e){return"tracer-mute-"+e}function k(e){const t=w().getItem(O(e));return t?parseInt(t):null}function x(e){return!("all"===e||!T("all"))||T(e)}function T(e){let t=v[e];return void 0===t&&(v[e]=t=k(e)),!!t&&(Date.now()<t||(function(e){v[e]=null,w().removeItem(O(e))}(e),!1))}function I(e,t){if(x("crashUpload"))return;const n=i(e,1),r=i(e,0);if(!n)return;const s=Object.assign(Object.assign({},t),{timestamp:Date.now(),log:r?r.getData().join(""):void 0,errorStack:b(t.error)});s.keys=Object.assign(Object.assign({},n.getKeys()),s.keys),s.userId||(s.userId=n.userId),s.module||(s.module=n.module),n.add(s)}class A{constructor(e){this.withListeners=!1,this.dataKey=e,this.onWindowError=this.onWindowError.bind(this),this.onWindowUnhandledRejection=this.onWindowUnhandledRejection.bind(this),this.addEventListeners()}destroy(){this.removeListeners()}addEventListeners(){"undefined"==typeof window||this.withListeners||(window.addEventListener("error",this.onWindowError),window.addEventListener("unhandledrejection",this.onWindowUnhandledRejection),this.withListeners=!0)}removeListeners(){"undefined"!=typeof window&&this.withListeners&&(window.removeEventListener("error",this.onWindowError),window.removeEventListener("unhandledrejection",this.onWindowUnhandledRejection))}onWindowError(e){this.handleCrash(e.error,e.type)}onWindowUnhandledRejection(e){this.handleCrash(e.reason,e.type)}handleCrash(e,t){e instanceof Error&&I(this.dataKey,{error:e,type:"CRASH",errorEventType:t})}}class C{constructor(e){this.dataKey=e}getErrorsData(){return i(this.dataKey,1)}error(e,t){e.tracerScope||(e.tracerScope=_()),I(this.dataKey,Object.assign(Object.assign({type:"NON_FATAL"},t),{error:e}))}setErrorKey(e,t){const n=this.getErrorsData();n&&n.setKey(e,t)}setErrorKeys(e){const t=this.getErrorsData();t&&t.setKeys(e)}removeErrorKey(e){const t=this.getErrorsData();t&&t.removeKey(e)}removeErrorKeys(e){const t=this.getErrorsData();t&&t.removeKeys(e)}setUserId(e){const t=this.getErrorsData();t&&(t.userId=e)}removeUserId(){const e=this.getErrorsData();e&&(e.userId=void 0)}setModule(e){const t=this.getErrorsData();t&&(t.module=e)}removeModule(){const e=this.getErrorsData();e&&(e.module=void 0)}}function P(e={}){const t="main";return Error.stackTraceLimit=e.stackTraceLimit||50,c(t,1,(function(){return new h(t,e)})),c(t,2,(function(){return new A(t)})),l(t,"error",(function(){return new C(t)}))}function R(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}const M="tracer-device-id";function D(){const e=w();let t=e.getItem(M);return t||(t=R(),e.setItem(M,t)),t}function N(e){return e.getFullYear()+"-"+B(e.getMonth()+1)+"-"+B(e.getDate())+"T"+B(e.getHours())+":"+B(e.getMinutes())+":"+B(e.getSeconds())+function(e){if(0===e)return"Z";const t=e>0?"-":"+";return e=Math.abs(e),t+B(Math.floor(e/60))+":"+B(e%60)}(e.getTimezoneOffset())}function B(e){return e<10?"0"+e:e}function L(e,t,n){const r=new Blob([e]);if("undefined"!=typeof window&&Boolean(window.CompressionStream))try{W(r.stream().pipeThrough(new CompressionStream("gzip")).getReader()).then(t,(function(){n(r)}))}catch(e){n(r)}else n(r)}function W(e,t=[]){return e.read().then((function(n){return n.value&&t.push(n.value),n.done?new Blob(t):W(e,t)}))}function j(){const e=s();return e.sessionUuid||(e.sessionUuid=R()),e.sessionUuid}let U;function $(){if(U)return U;const e={function:!0,object:!0};let t=e[typeof window]&&window||this;const n=e[typeof exports]&&exports,r=e[typeof module]&&module&&!module.nodeType&&module,s=n&&r&&"object"==typeof global&&global;!s||s.global!==s&&s.window!==s&&s.self!==s||(t=s);const o=Math.pow(2,53)-1,i=/\bOpera/,a=Object.prototype,c=a.hasOwnProperty,u=a.toString;function l(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function d(e){return e=m(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:l(e)}function h(e,t){for(const n in e)c.call(e,n)&&t(e[n],n,e)}function p(e){return null==e?l(e):u.call(e).slice(8,-1)}function f(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function g(e,t){let n=null;return function(e,t){let n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=o)for(;++n<r;)t(e[n],n,e);else h(e,t)}(e,(function(r,s){n=t(n,r,s,e)})),n}function m(e){return String(e).replace(/^ +| +$/g,"")}return U=function e(n){let r=t;const s=n&&"object"==typeof n&&"String"!=p(n);s&&(r=n,n=null);const o=r.navigator||{},a=o.userAgent||"";n||(n=a);const c=s?!!o.likeChrome:/\bChrome\b/.test(n)&&!/internal|\n/i.test(u.toString()),l="Object",_=s?l:"ScriptBridgingProxyObject",S=s?l:"Environment",b=s&&r.java?"JavaPackage":p(r.java),v=s?l:"RuntimeObject",y=/\bJava/.test(b)&&r.java,E=y&&p(r.environment)==S,w=y?"a":"α",O=y?"b":"β",k=r.document||{};let x=r.operamini||r.opera;var T=i.test(T=s&&x?x["[[Class]]"]:p(x))?T:x=null;let I,A=n,C=[],P=null;const R=n==a;let M,D=R&&x&&"function"==typeof x.version&&x.version(),N=g([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,t){return e||RegExp("\\b"+(t.pattern||f(t))+"\\b","i").exec(n)&&(t.label||t)})),B=function(e){return g(e,(function(e,t){return e||RegExp("\\b"+(t.pattern||f(t))+"\\b","i").exec(n)&&(t.label||t)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),L=U([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),W=function(e){return g(e,(function(e,t,r){return e||(t[L]||t[/^[a-z]+(?: +[a-z]+\b)*/i.exec(L)]||RegExp("\\b"+f(r)+"(?:\\b|\\w*\\d)","i").exec(n))&&r}))}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),j=function(e){return g(e,(function(e,t){const r=t.pattern||f(t);return!e&&(e=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(n))&&(e=function(e,t,n){let r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),d(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,r,t.label||t)),e}))}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function U(e){return g(e,(function(e,t){const r=t.pattern||f(t);return!e&&(e=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(n)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(n)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(n))&&((e=String(t.label&&!RegExp(r,"i").test(t.label)?t.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),t=t.label||t,e=d(e[0].replace(RegExp(r,"i"),t).replace(RegExp("; *(?:"+t+"[_-])?","i")," ").replace(RegExp("("+t+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function $(e){return g(e,(function(e,t){return e||(RegExp(t+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(n)||0)[1]||null}))}if(N&&(N=[N]),/\bAndroid\b/.test(j)&&!L&&(I=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(n))&&(L=m(I[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),W&&!L?L=U([W]):W&&L&&(L=L.replace(RegExp("^("+f(W)+")[-_.\\s]","i"),W+" ").replace(RegExp("^("+f(W)+")[-_.]?(\\w)","i"),W+" $2")),(I=/\bGoogle TV\b/.exec(L))&&(L=I[0]),/\bSimulator\b/i.test(n)&&(L=(L?L+" ":"")+"Simulator"),"Opera Mini"==B&&/\bOPiOS\b/.test(n)&&C.push("running in Turbo/Uncompressed mode"),"IE"==B&&/\blike iPhone OS\b/.test(n)?(I=e(n.replace(/like iPhone OS/,"")),W=I.manufacturer,L=I.product):/^iP/.test(L)?(B||(B="Safari"),j="iOS"+((I=/ OS ([\d_]+)/i.exec(n))?" "+I[1].replace(/_/g,"."):"")):"Konqueror"==B&&/^Linux\b/i.test(j)?j="Kubuntu":W&&"Google"!=W&&(/Chrome/.test(B)&&!/\bMobile Safari\b/i.test(n)||/\bVita\b/.test(L))||/\bAndroid\b/.test(j)&&/^Chrome/.test(B)&&/\bVersion\//i.test(n)?(B="Android Browser",j=/\bAndroid\b/.test(j)?j:"Android"):"Silk"==B?(/\bMobi/i.test(n)||(j="Android",C.unshift("desktop mode")),/Accelerated *= *true/i.test(n)&&C.unshift("accelerated")):"UC Browser"==B&&/\bUCWEB\b/.test(n)?C.push("speed mode"):"PaleMoon"==B&&(I=/\bFirefox\/([\d.]+)\b/.exec(n))?C.push("identifying as Firefox "+I[1]):"Firefox"==B&&(I=/\b(Mobile|Tablet|TV)\b/i.exec(n))?(j||(j="Firefox OS"),L||(L=I[1])):!B||(I=!/\bMinefield\b/i.test(n)&&/\b(?:Firefox|Safari)\b/.exec(B))?(B&&!L&&/[\/,]|^[^(]+?\)/.test(n.slice(n.indexOf(I+"/")+8))&&(B=null),(I=L||W||j)&&(L||W||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(j))&&(B=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(j)?j:I)+" Browser")):"Electron"==B&&(I=(/\bChrome\/([\d.]+)\b/.exec(n)||0)[1])&&C.push("Chromium "+I),D||(D=$(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",f(B),"(?:Firefox|Minefield|NetFront)"])),(I=("iCab"==N&&parseFloat(D)>3?"WebKit":/\bOpera\b/.test(B)&&(/\bOPR\b/.test(n)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(n)&&!/^(?:Trident|EdgeHTML)$/.test(N)&&"WebKit"||!N&&/\bMSIE\b/i.test(n)&&("Mac OS"==j?"Tasman":"Trident")||"WebKit"==N&&/\bPlayStation\b(?! Vita\b)/i.test(B)&&"NetFront")&&(N=[I]),"IE"==B&&(I=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(n)||0)[1])?(B+=" Mobile",j="Windows Phone "+(/\+$/.test(I)?I:I+".x"),C.unshift("desktop mode")):/\bWPDesktop\b/i.test(n)?(B="IE Mobile",j="Windows Phone 8.x",C.unshift("desktop mode"),D||(D=(/\brv:([\d.]+)/.exec(n)||0)[1])):"IE"!=B&&"Trident"==N&&(I=/\brv:([\d.]+)/.exec(n))&&(B&&C.push("identifying as "+B+(D?" "+D:"")),B="IE",D=I[1]),R){if(function(e,t){const n=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}(r,"global"))if(y&&(I=y.lang.System,A=I.getProperty("os.arch"),j=j||I.getProperty("os.name")+" "+I.getProperty("os.version")),E){try{D=r.require("ringo/engine").version.join("."),B="RingoJS"}catch(e){(I=r.system)&&I.global.system==r.system&&(B="Narwhal",j||(j=I[0].os||null))}B||(B="Rhino")}else"object"==typeof r.process&&!r.process.browser&&(I=r.process)&&("object"==typeof I.versions&&("string"==typeof I.versions.electron?(C.push("Node "+I.versions.node),B="Electron",D=I.versions.electron):"string"==typeof I.versions.nw&&(C.push("Chromium "+D,"Node "+I.versions.node),B="NW.js",D=I.versions.nw)),B||(B="Node.js",A=I.arch,j=I.platform,D=/[\d.]+/.exec(I.version),D=D?D[0]:null));else p(I=r.runtime)==_?(B="Adobe AIR",j=I.flash.system.Capabilities.os):p(I=r.phantom)==v?(B="PhantomJS",D=(I=I.version||null)&&I.major+"."+I.minor+"."+I.patch):"number"==typeof k.documentMode&&(I=/\bTrident\/(\d+)/i.exec(n))?(D=[D,k.documentMode],(I=+I[1]+4)!=D[1]&&(C.push("IE "+D[1]+" mode"),N&&(N[1]=""),D[1]=I),D="IE"==B?String(D[1].toFixed(1)):D[0]):"number"==typeof k.documentMode&&/^(?:Chrome|Firefox)\b/.test(B)&&(C.push("masking as "+B+" "+D),B="IE",D="11.0",N=["Trident"],j="Windows");j=j&&d(j)}if(D&&(I=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(D)||/(?:alpha|beta)(?: ?\d)?/i.exec(n+";"+(R&&o.appMinorVersion))||/\bMinefield\b/i.test(n)&&"a")&&(P=/b/i.test(I)?"beta":"alpha",D=D.replace(RegExp(I+"\\+?$"),"")+("beta"==P?O:w)+(/\d+\+?/.exec(I)||"")),"Fennec"==B||"Firefox"==B&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(j))B="Firefox Mobile";else if("Maxthon"==B&&D)D=D.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(L))"Xbox 360"==L&&(j=null),"Xbox 360"==L&&/\bIEMobile\b/.test(n)&&C.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(B)&&(!B||L||/Browser|Mobi/.test(B))||"Windows CE"!=j&&!/Mobi/i.test(n))if("IE"==B&&R)try{null===r.external&&C.unshift("platform preview")}catch(e){C.unshift("embedded")}else(/\bBlackBerry\b/.test(L)||/\bBB10\b/.test(n))&&(I=(RegExp(L.replace(/ +/g," *")+"/([.\\d]+)","i").exec(n)||0)[1]||D)?(I=[I,/BB10/.test(n)],j=(I[1]?(L=null,W="BlackBerry"):"Device Software")+" "+I[0],D=null):this!=h&&"Wii"!=L&&(R&&x||/Opera/.test(B)&&/\b(?:MSIE|Firefox)\b/i.test(n)||"Firefox"==B&&/\bOS X (?:\d+\.){2,}/.test(j)||"IE"==B&&(j&&!/^Win/.test(j)&&D>5.5||/\bWindows XP\b/.test(j)&&D>8||8==D&&!/\bTrident\b/.test(n)))&&!i.test(I=e.call(h,n.replace(i,"")+";"))&&I.name&&(I="ing as "+I.name+((I=I.version)?" "+I:""),i.test(B)?(/\bIE\b/.test(I)&&"Mac OS"==j&&(j=null),I="identify"+I):(I="mask"+I,B=T?d(T.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(I)&&(j=null),R||(D=null)),N=["Presto"],C.push(I));else B+=" Mobile";(I=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(n)||0)[1])&&(I=[parseFloat(I.replace(/\.(\d)$/,".0$1")),I],"Safari"==B&&"+"==I[1].slice(-1)?(B="WebKit Nightly",P="alpha",D=I[1].slice(0,-1)):D!=I[1]&&D!=(I[2]=(/\bSafari\/([\d.]+\+?)/i.exec(n)||0)[1])||(D=null),I[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(n)||0)[1],537.36==I[0]&&537.36==I[2]&&parseFloat(I[1])>=28&&"WebKit"==N&&(N=["Blink"]),R&&(c||I[1])?(N&&(N[1]="like Chrome"),I=I[1]||(I=I[0],I<530?1:I<532?2:I<532.05?3:I<533?4:I<534.03?5:I<534.07?6:I<534.1?7:I<534.13?8:I<534.16?9:I<534.24?10:I<534.3?11:I<535.01?12:I<535.02?"13+":I<535.07?15:I<535.11?16:I<535.19?17:I<536.05?18:I<536.1?19:I<537.01?20:I<537.11?"21+":I<537.13?23:I<537.18?24:I<537.24?25:I<537.36?26:"Blink"!=N?"27":"28")):(N&&(N[1]="like Safari"),I=I[0],I=I<400?1:I<500?2:I<526?3:I<533?4:I<534?"4+":I<535?5:I<537?6:I<538?7:I<601?8:I<602?9:I<604?10:I<606?11:I<608?12:"12"),N&&(N[1]+=" "+(I+="number"==typeof I?".x":/[.+]/.test(I)?"":"+")),"Safari"==B&&(!D||parseInt(D)>45)?D=I:"Chrome"==B&&/\bHeadlessChrome/i.test(n)&&C.unshift("headless")),"Opera"==B&&(I=/\bzbov|zvav$/.exec(j))?(B+=" ",C.unshift("desktop mode"),"zvav"==I?(B+="Mini",D=null):B+="Mobile",j=j.replace(RegExp(" *"+I+"$"),"")):"Safari"==B&&/\bChrome\b/.exec(N&&N[1])?(C.unshift("desktop mode"),B="Chrome Mobile",D=null,/\bOS X\b/.test(j)?(W="Apple",j="iOS 4.3+"):j=null):/\bSRWare Iron\b/.test(B)&&!D&&(D=$("Chrome")),D&&0==D.indexOf(I=/[\d.]+$/.exec(j))&&n.indexOf("/"+I+"-")>-1&&(j=m(j.replace(I,""))),j&&-1!=j.indexOf(B)&&!RegExp(B+" OS").test(j)&&(j=j.replace(RegExp(" *"+f(B)+" *"),"")),N&&!/\b(?:Avant|Nook)\b/.test(B)&&(/Browser|Lunascape|Maxthon/.test(B)||"Safari"!=B&&/^iOS/.test(j)&&/\bSafari\b/.test(N[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(B)&&N[1])&&(I=N[N.length-1])&&C.push(I),C.length&&(C=["("+C.join("; ")+")"]),W&&L&&L.indexOf(W)<0&&C.push("on "+W),L&&C.push((/^on /.test(C[C.length-1])?"":"on ")+L),j&&(I=/ ([\d.+]+)$/.exec(j),M=I&&"/"==j.charAt(j.length-I[0].length-1),j={architecture:32,family:I&&!M?j.replace(I[0],""):j,version:I?I[1]:null,toString:function(){const e=this.version;return this.family+(e&&!M?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(I=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(A))&&!/\bi686\b/i.test(A)?(j&&(j.architecture=64,j.family=j.family.replace(RegExp(" *"+I),"")),B&&(/\bWOW64\b/i.test(n)||R&&/\w(?:86|32)$/.test(o.cpuClass||o.platform)&&!/\bWin64; x64\b/i.test(n))&&C.unshift("32-bit")):j&&/^OS X/.test(j.family)&&"Chrome"==B&&parseFloat(D)>=39&&(j.architecture=64),n||(n=null);const F={};return F.description=n,F.layout=N&&N[0],F.manufacturer=W,F.name=B,F.prerelease=P,F.product=L,F.ua=n,F.version=B&&D,F.os=j||{architecture:null,family:null,version:null,toString:function(){return"null"}},F.parse=e,F.toString=function(){return this.description||""},F.version&&C.unshift(D),F.name&&C.unshift(B),j&&B&&(j!=String(j).split(" ")[0]||j!=B.split(" ")[0]&&!L)&&C.push(L?"("+j+")":"on "+j),C.length&&(F.description=C.join(" ")),F}(),U}function F(e){return"https://"+(e.apiHost||"sdk-api.apptracer.ru")+e.apiUrl+function(e){const t=e.queryParams||{},n=[];e.sdkVersion&&(t.sdkVersion=e.sdkVersion);for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e]&&n.push(e+"="+t[e]);return n.length?"?"+n.join("&"):""}(e)}function H(e,t){if(v[e])return;const n=O(e),r=k(e);if(r)v[e]=r;else{const r=v[e]=Date.now()+t;w().setItem(n,String(r))}}function q(e){let t;const n=F(e),r=function(e){if("form"===e.dataType){const t=new FormData;for(const n in e.data)if(Object.prototype.hasOwnProperty.call(e.data,n)){let r=e.data[n];"object"!=typeof r||r instanceof Blob||(r=JSON.stringify(r)),t.append(n,r)}return t}return"blob"===e.dataType?e.data:JSON.stringify(e.data)}(e),s=e.onRequestEnd,o={};let i=1e4,a=e.retryCount||1/0;const c="Content-Type";function u(){const e=new XMLHttpRequest;e.open("POST",n);for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&o[t]&&e.setRequestHeader(t,o[t]);return e.responseType="json",e.onload=d,e.onerror=d,e.onabort=d,e.ontimeout=d,e.send(r),e}function l(){i=Math.min(2*i,3e5),a--,t=u()}function d(n){if(!t)return;if(("timeout"===n.type||"error"===n.type&&t.readyState===XMLHttpRequest.DONE&&0===t.status)&&a>0)setTimeout(l,i);else{"undefined"!=typeof window&&window.removeEventListener("beforeunload",h);try{const n=t.response;if(n.commands){const t=n.commands.globalShutdownMs;t&&H("all",t);const r=n.commands.featureShutdownMs;r&&e.onMute(r)}}catch(e){}s&&s()}}function h(){if(navigator.sendBeacon)if(t&&t.abort(),"string"==typeof r||r instanceof Blob){const e=o[c];navigator.sendBeacon(n,new Blob([r],e?{type:e}:void 0))}else navigator.sendBeacon(n,r);else t||(t=u())}"json"===e.dataType?o[c]="application/json;charset=utf-8":"blob"===e.dataType&&(o[c]="application/octet-stream"),e.beforeUnload?h():("undefined"!=typeof window&&window.addEventListener("beforeunload",h),t=u())}function K(e){"undefined"!=typeof window&&q(e)}class G{constructor(e){this.CRASH_BATCH_SIZE=20,this.UPLOAD_BATCH_TIMEOUT_MS=15e3,this.THROTTLE_INTERVAL_MS=1e4,this.beforeUnload=!1,this.stackTraceHashTime={},this.dataKey=e.dataKey,this.appToken=e.appToken,this.versionName=e.versionName,this.versionCode=e.versionCode,this.apiHost=e.apiHost,this.uploadBatch=this.uploadBatch.bind(this),this.onUploadBatchEnd=this.onUploadBatchEnd.bind(this),this.onBatchDataEncoded=this.onBatchDataEncoded.bind(this),this.onBeforeUnload=this.onBeforeUnload.bind(this),"undefined"!=typeof window&&window.addEventListener("beforeunload",this.onBeforeUnload),this.setUploadTask(1e3)}onBeforeUnload(){this.beforeUnload=!0,this.uploadBatch()}destroy(){clearTimeout(this.uploadBatchTimeout),"undefined"!=typeof window&&window.removeEventListener("beforeunload",this.onBeforeUnload)}setUploadTask(e=this.UPLOAD_BATCH_TIMEOUT_MS){clearTimeout(this.uploadBatchTimeout),this.beforeUnload||(this.uploadBatchTimeout=setTimeout(this.uploadBatch,e))}forceUpload(){clearTimeout(this.uploadBatchTimeout),this.uploadBatch()}uploadBatch(){const e=i(this.dataKey,1);if(!e||x("crashUpload"))return void this.setUploadTask();const t=this.getFilteredRawBatchData(e.dequeue(this.CRASH_BATCH_SIZE));t.length?this.encodeBatchDataItems(t,this.onBatchDataEncoded):this.setUploadTask()}onBatchDataEncoded(e){L(JSON.stringify(e),this.runUpload.bind(this,"GZIP"),this.runUpload.bind(this,"NONE"))}runUpload(e,t){K({beforeUnload:this.beforeUnload,sdkVersion:s().version,apiHost:this.apiHost,apiUrl:"/api/crash/uploadBatch",data:t,queryParams:{crashToken:this.appToken,compressType:e},dataType:"blob",onRequestEnd:this.onUploadBatchEnd,onMute:H.bind(null,"crashUpload")})}onUploadBatchEnd(){this.setUploadTask(0)}encodeBatchDataItems(e,t){const n=e.length;let r=0;for(let s=0;s<n;s++)this.encodeBatchDataItem(e[s],(function(){r++,r===n&&t(e)}))}encodeBatchDataItem(e,t){if(e.logsFile)return function(e,t){const n=new FileReader;n.onloadend=function(){const e=String(n.result);t(e.slice(e.indexOf("base64,")+7))},n.readAsDataURL(new Blob([e]))}(e.logsFile,(function(n){e.logsFile=n,t(e)}));t(e)}getFilteredRawBatchData(e){if(!e.length)return[];const t=[],n=this.getCommonUploadBeanInfo(),r=this.getCommonUploadBeanProperties();for(let s=0;s<e.length;s++){const o=e[s],i=o.error.name+": "+o.error.message+"\n"+o.errorStack;if(!this.throttleStacktrace(o.errorStack)){const e={type:o.type,uploadBean:this.getUploadBeanForError(o,n,r),stackTrace:i};o.log&&(e.logsFile=o.log),t.push(e)}}return t}throttleStacktrace(e){if(!e)return!0;const t=function(e,t=0){let n=3735928559^t,r=1103547991^t;for(let t,s=0;s<e.length;s++)t=e.charCodeAt(s),n=Math.imul(n^t,2654435761),r=Math.imul(r^t,1597334677);return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),4294967296*(2097151&r)+(n>>>0)}(e),n=this.stackTraceHashTime,r=n[t],s=Date.now();return!!(r&&s-r<=this.THROTTLE_INTERVAL_MS)||(n[t]=s,!1)}getCommonUploadBeanProperties(){var e,t,n;let r=this.getWindowParams();{const s=$();r=Object.assign(Object.assign({},r),{userAgent:s.ua,browserName:s.name,browserVersion:s.version,osFamily:null===(e=s.os)||void 0===e?void 0:e.family,osVersion:null===(t=s.os)||void 0===t?void 0:t.version,osArchitecture:null===(n=s.os)||void 0===n?void 0:n.architecture})}return r}getCommonUploadBeanInfo(){var e;{const t="unknown",n=$();return{osVersion:(null===(e=n.os)||void 0===e?void 0:e.version)||t,vendor:n.name||t,device:n.version||t}}}getUploadBeanForError(e,t,n){const r=[],s=e.keys;if(s)for(const e in s)e&&Object.prototype.hasOwnProperty.call(s,e)&&r.push(`${e}=${s[e]}`);e.customCrashId&&(t.crashIdSourceField="customCrashId",n.customCrashId=e.customCrashId);const o=Object.assign({timestamp:e.timestamp,date:N(new Date(e.timestamp)),userId:e.userId?String(e.userId):void 0,issueKey:e.issueKey,errorEventType:e.errorEventType},n);return Object.assign({deviceId:D(),sessionUuid:j(),versionName:this.versionName,versionCode:this.versionCode,tags:r.length?r:void 0,module:e.module,properties:o},t)}getWindowParams(){if("undefined"!=typeof window){const e=window.screen,t={screenWidth:e.width,screenHeight:e.height,host:window.location.host};return e.orientation&&e.orientation.angle&&(t.screenOrientationAngle=e.orientation.angle),t}return{}}}function V(e){return e.versionName+"("+e.versionCode+")"}function z(e,t,n,r){n.versionName===r.versionName&&n.versionCode===r.versionCode||I(e,{error:new Error(`${t} was already inited with version: ${V(n)}. Attempt init: ${V(r)}.`),type:"NON_FATAL"})}function J(e){const t="main",n=c(t,3,(function(){return new G({dataKey:t,appToken:e.appToken,apiHost:e.apiHost,versionName:e.versionName,versionCode:e.versionCode})}));z(t,"TracerErrorUploader",n,e)}const X="ns",Y="10*-n",Z="undefined"!=typeof performance;function Q(){return Z?performance.now():Date.now()}function ee(e){return Math.round(1e6*e)}function te(){let e;return e=Z&&performance.now?performance.timeOrigin?performance.timeOrigin+performance.now():performance.timing&&performance.timing.navigationStart?performance.timing.navigationStart+performance.now():Date.now()+performance.now():Date.now(),e}class ne{constructor(e){this.samples=[],this.timeLabel={},this.dataKey=e}destroy(){this.samples=[],this.timeLabel={}}getTimeLabelKey(e){return"string"==typeof e?e:e.join("-")}getTimeLabelName(e){return"string"==typeof e?e:e[0]}time(e,t){const n=this.getTimeLabelKey(e);this.timeLabel[n]?console.warn(`Timer '${this.getTimeLabelName(e)}' already exists`):this.timeLabel[n]={from:Q(),attributes:Object.assign({},t)}}timeEnd(e,t){const n=this.getTimeLabelKey(e),r=this.timeLabel[n];r?(this.timeLabel[n]=void 0,this.add({name:this.getTimeLabelName(e),value:ee(Q()-r.from),unit:X,attributes:Object.assign(Object.assign({},r.attributes),t)})):console.warn(`Timer '${this.getTimeLabelName(e)}' does not exist`)}add(e){if(x("perfUpload"))return;if(e.value<0)throw new Error("Tracer performance do not support negative values");let t;const n=ee(te());t=e.unit===Y?{name:e.name,timeUnixNano:n,value:Math.round(e.value*Math.pow(10,e.precision)),unit:"10*-"+e.precision,attributes:e.attributes}:{name:e.name,timeUnixNano:n,value:e.value,unit:e.unit,attributes:e.attributes},this.samples.push(t)}getData(){return this.samples}clear(){this.samples=[]}dequeue(e=1){return this.samples.splice(0,e)}}function re(e,t,n,r,s){const o=i(e,5);o&&o.add({name:t,value:ee(Q()-n),unit:X,attributes:Object.assign(Object.assign({},r),s)})}class se{constructor(e){this.dataKey=e}getPerformanceData(){return i(this.dataKey,5)}addSample(e){const t=this.getPerformanceData();t&&t.add(e)}startTimer(e,t){return{endTimer:re.bind(null,this.dataKey,e,Q(),t)}}time(e,t){const n=this.getPerformanceData();n&&n.time(e,t)}timeEnd(e,t){const n=this.getPerformanceData();n&&n.timeEnd(e,t)}}function oe(){const e="main";return c(e,5,(function(){return new ne(e)})),l(e,"performance",(function(){return new se(e)}))}class ie{constructor(e,t){this.PERFORMANCE_SAMPLE_DATA_SIZE=500,this.PERFORMANCE_UPLOAD_TIMEOUT=15e3,this.beforeUnload=!1,this.dataKey=e,this.appToken=t.appToken,this.versionName=t.versionName,this.versionCode=t.versionCode,this.apiHost=t.apiHost,this.upload=this.upload.bind(this),this.onBeforeUnload=this.onBeforeUnload.bind(this),"undefined"!=typeof window&&window.addEventListener("beforeunload",this.onBeforeUnload),this.setUploadTask(1e3)}onBeforeUnload(){this.beforeUnload=!0,this.upload()}destroy(){clearInterval(this.uploadTimeout),"undefined"!=typeof window&&window.removeEventListener("beforeunload",this.onBeforeUnload)}setUploadTask(e=this.PERFORMANCE_UPLOAD_TIMEOUT){clearTimeout(this.uploadTimeout),this.beforeUnload||(this.uploadTimeout=setTimeout(this.upload,e))}upload(){var e;const t=i(this.dataKey,5);if(!t||x("perfUpload"))return void this.setUploadTask();const n=t.dequeue(this.PERFORMANCE_SAMPLE_DATA_SIZE);if(!n.length)return void this.setUploadTask();const r={};r.samples=n,r.versionName=this.versionName,r.versionCode=String(this.versionCode),r.sessionUuid=j(),r.deviceId=D(),r.clientTimeUnixNano=String(ee(te()));{const t="unknown",n=$();r.osVersion=(null===(e=n.os)||void 0===e?void 0:e.version)||t,r.vendor=n.name||t,r.device=n.version||t}const o=this.onUploadEnd.bind(this);K({beforeUnload:this.beforeUnload,sdkVersion:s().version,apiHost:this.apiHost,apiUrl:"/api/perf/upload",queryParams:{crashToken:this.appToken},data:r,dataType:"json",onRequestEnd:o,onMute:H.bind(null,"perfUpload")})}onUploadEnd(){this.setUploadTask(0)}}function ae(e){const t="main",n=c(t,6,(function(){return new ie(t,e)}));z(t,"TracerPerformanceUploader",n,e)}new Map;class ce{constructor(e,t){this.status="BLANK",this.uploaded=!1,this.beforeUnload=!1,this.prevSessionKey="tracer-prev-session",this.appToken=t.appToken,this.versionName=t.versionName,this.versionCode=t.versionCode,this.apiHost=t.apiHost,this.onBeforeUnload=this.onBeforeUnload.bind(this);const n=i(e,1);n&&n.withCrashes()&&this.setCrashed(),"undefined"!=typeof window&&window.addEventListener("beforeunload",this.onBeforeUnload)}onBeforeUnload(){this.beforeUnload=!0,this.upload()}setCrashed(){"CRASH"!==this.status&&(this.status="CRASH",this.upload())}destroy(){"undefined"!=typeof window&&window.removeEventListener("beforeunload",this.onBeforeUnload)}upload(){if(this.uploaded||x("trackSession"))return;this.uploaded=!0;const e={sessionUuid:j(),versionName:this.versionName,versionCode:String(this.versionCode),status:this.status};this.uploadSessionInfo(e)}uploadSessionInfo(e){const t={};t.versionName=this.versionName,t.versionCode=String(this.versionCode),t.deviceId=D(),t.sessions=[e],K({beforeUnload:this.beforeUnload,sdkVersion:s().version,apiHost:this.apiHost,apiUrl:"/api/crash/trackSession",queryParams:{crashToken:this.appToken},data:t,dataType:"json",onMute:H.bind(null,"trackSession")})}}function ue(e){const t="main",n=c(t,7,(function(){return new ce(t,e)}));z(t,"SessionUploader",n,e)}function le(){return u("main")}function de(e,...t){const n={};for(let r=0,s=t.length;r<s;r++){const s=t[r](e);if(s){const e=Object.getPrototypeOf(s),t=Object.getOwnPropertyNames(e);for(let r=0,o=t.length;r<o;r++){const o=t[r];"function"==typeof e[o]&&"constructor"!==o&&(n[o]=e[o].bind(s))}}}return n}}},o={};function __webpack_require__(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return s[e](n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.p="/dist/",e=__webpack_require__.u,t=__webpack_require__.e,n={},r={},__webpack_require__.u=function(t){return e(t)+(n.hasOwnProperty(t)?"?"+n[t]:"")},__webpack_require__.e=function(s){return t(s).catch((function(t){var o=r.hasOwnProperty(s)?r[s]:3;if(o<1){var i=e(s);throw t.message="Loading chunk "+s+" failed after 3 retries.\n("+i+")",t.request=i,t}return new Promise((function(e){var t,i=3-o+1;setTimeout((function(){var t="cache-bust=true&retry-attempt="+i;n[s]=t,r[s]=o-1,e(__webpack_require__.e(s))}),(t=i,1e3*Math.pow(3,t)))}))}))},(()=>{var e=__webpack_require__(770176),t=__webpack_require__(540764),n=__webpack_require__(856626),r=__webpack_require__(312828),s=__webpack_require__(355642),o=__webpack_require__(765560),i=__webpack_require__(334018);function a(e){const{pe:t={}}=window.vk||{};return!!t[e]}window.vk?.stDomain&&(__webpack_require__.p=window.vk.stDomain+"/dist/");function c(e,t){return`${e.wsTransport}/web-stats/${e.st?"s":"p"}${t&&`?${t}`}`}const u=()=>({hostName:window.vk?.__domain||"vk.com",options:{isDebuggerMode:a("web_stats_transport_debugger"),isNewQueue:a("webinf_change_queue_analytics")},getBrowserFingerprint:()=>(e=>{const t=new RegExp(`(^| )${e}=([^;]+)`),n=document.cookie.match(t);return n?n[2]:void 0})("remixgp"),statsMeta:{get st(){return window.vk.statsMeta.st},get platform(){return window.vk?.statsMeta?.platform?window.vk?.statsMeta?.platform:window.isMVK?"mvk":"web2"},get time(){return window.vk.statsMeta.time},get hash(){return window.vk.statsMeta.hash},get wsTransport(){return window.vk.wsTransport},get userId(){return window.vk.id},get started(){return window.vk.started},get itemId(){return window.cur?.item_id},get itemOwnerId(){return window.cur?.item_owner_id},get itemType(){return window.cur?.item_type}},createUrl:c});(0,t.init)({enableTracer:a("web_tracer"),integrations:[new n.KnownIssues({getKnownIssues:t=>{const n=String(t.tags?.module??"unknown"),r=t?.exception?.values??[],{type:s,value:o,stacktrace:i}=r[r.length-1]??{},{frames:a}=i??{};return[{predicates:["AbortError"===s]},{predicates:["TypeError"===s,o?.includes("Cannot read properties of undefined (reading 'firefoxSample')")]},{predicates:[o?.includes("ResizeObserver loop")]},{predicates:["TypeError"===s,"Cannot redefine property: getChannelData"===o,!t.tags?.is_logged_in,!!a&&a.every((e=>"<anonymous>"===e.filename)),["video","unknown"].includes(n)]},{predicates:["TypeError"===s,o?.includes(".finally is not a function"),["videoplayer","notifier"].includes(n)]},{predicates:["ErrorOfExtension"===s,!!a&&a.some((e=>e.filename?.includes("/vkopt.js"))),"profile"===n]},{predicates:["Error"===s,o?.includes("Empty response. Method: auth.anonymLogin"),"videoplayer"===n]},{predicates:[o?.includes("Uncaught NetworkError: Failed to execute 'importScripts' on 'WorkerGlobalScope'")]},{predicates:["TypeError"===s,"Load failed"===o,e.browser.safari]},{predicates:[o?.includes("NotSupportedError: Failed to load because no supported source was found.")]},{predicates:["TypeError"===s,"Cannot read properties of undefined (reading 'onMessage')"===o,!!a&&a.every((e=>e.filename?.startsWith("blob:https://vk.com/")))]},{predicates:["NotSupportedError"===s,"The operation is not supported."===o||"Permissions::query does not support this API"===o,e.browser.ios||e.browser.safari||e.browser.iphone]},{predicates:[o?.includes("NotAllowedError: play() failed because the user didn't interact with the document first.")]},{predicates:[o?.includes("Internal error opening backing store for indexedDB.open.")]}]}}),new r.StaticLoadingIssues({webStatsParams:u()}),new s.LangLoadingIssues({webStatsParams:u()}),new o.InlineScriptTag,new i.CurModuleDiffIssues],beforeSend:e=>a("sentry_issues_client_enabled")&&!a("sentry_issues")?null:(e.tags&&(e.tags.loadingState=window[Symbol.for("vkLoadingState")]??"layout-processing",e.tags.redirectChallenge=window.isRedirectChallenge??!1),e)});try{stManager?.done("dist/web/error_monitoring.isolated.64a0ec92.js")}catch(e){}})()})();